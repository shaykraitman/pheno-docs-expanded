
=== HUMAN PHENOTYPE PROJECT DOCUMENTATION ===


## FILE: README.md

# Pheno Knowledge Base Expanded

This is an expanded version of the Pheno.AI Knowledge Base, independent from the original `pheno_knowledge_base`.

## How to build this site

1. Ensure [quarto](https://quarto.org/docs/get-started/) is installed.
2. Install the JupyterLab extension for Quarto (if you need to render Jupyter Notebooks):

```bash
python3 -m pip install jupyterlab-quarto
```

3. Navigate to this folder:
```bash
cd pheno_knowledge_base_expanded
```

4. Run `quarto render` to build the docs. The output will be in `../docs-expanded/`
5. Run `quarto preview` to preview the docs before publishing.

## Structure

- `_quarto.yml` - Main configuration file
- `index.qmd` - Homepage
- `about.qmd` - About page
- `styles.css` - Custom CSS styles

## Output

The rendered site will be output to `../docs-expanded/` (separate from the original site which outputs to `../docs/`).

## Customization

You can:
- Add new pages by creating `.qmd` or `.md` files
- Update `_quarto.yml` to add pages to navigation
- Copy content from the original `pheno_knowledge_base` folder as needed
- Add datasets, images, and other assets



## FILE: datasets/datasets_availablity.md

# Data Availability

## Participant Flow & Engagement

These numbers represent current participant progress through the HPP study. Eventually, all participants should progress through all different stages and visits. For more information about the participant journey, please visit: [https://pheno-docs-expanded/participant_journey.html](https://pheno-docs-expanded/participant_journey.html)

### Visits

| Visit Type | Count |
|-----------|------:|
| Baseline | 13,522 |
| 2-Year Visit | 7,311 |
| 4-Year Visit | 3,705 |
| 6-Year Visit | 807 |


---

### Calls

| Call Stage | Count |
|-----------|------:|
| Call 1 | 11,184 |
| Call 3 | 8,287 |
| Call 5 | 3,423 |


---

## Data Modalities Coverage

The table below summarizes participant coverage across clinical, omics, imaging, time-series, and multimedia data types.

| Category | Modality | Participants | Measurements |
|--------|----------|-------------:|-------------:|
| Medical Records and Surveys | Diagnosis | 12,676 | 27,016 |
| Medical Records and Surveys | Medical Procedures | 12,242 | 27,080 |
| Medical Records and Surveys | Reported Medications | 9,293 | 24,809 |
| Medical Records and Surveys | Mental Questionnaire | 12,088 | 32,809 |
| Medical Records and Surveys | Hormonal Questionnaire | 13,384 | 29,531 |
| Medical Records and Surveys | Lifestyle Questionnaire | 12,151 | 32,907 |
| Medical Imaging | Carotid | 12,325 | 21,260 |
| Medical Imaging | Liver | 12,325 | 21,260 |
| Medical Imaging | Body Composition | 12,049 | 20,529 |
| Medical Imaging | Bone Density | 12,049 | 20,529 |
| Medical Imaging | Fundus Imaging | 11,412 | 16,859 |
| Multi-Omics | Human Genetics | 8,958 | 8,958 |
| Multi-Omics | N-Glycome | 5,400 | 7,680 |
| Multi-Omics | IgG Glycome | 217 | 434 |
| Multi-Omics | Gut Microbiome | 12,674 | 22,530 |
| Multi-Omics | Oral Microbiome | 8,138 | 8,138 |
| Multi-Omics | Vaginal Microbiome | 1,311 | 1,311 |
| Multi-Omics | NMR Metabolomics | 10,576 | 15,168 |
| Multi-Omics | Untargeted Metabolomics | 9,341 | 13,494 |
| Multi-Omics | Lipidomics | 6,292 | 6,292 |
| Multi-Omics | Olink Proteomics | 5,063 | 6,135 |
| Multi-Omics | Transcriptomics | 7,877 | 8,812 |
| Sensors and App Logging | Sleep Monitoring | 11,909 | 20,300 |
| Sensors and App Logging | ECG | 13,284 | 24,281 |
| Sensors and App Logging | CGM | 11,038 | 11,375 |
| Sensors and App Logging | Diet | 13,109 | 31,304 |
| Sensors and App Logging | Medication Intake | 9,317 | 18,183 |
| Sensors and App Logging | Exercise | 10,995 | 22,083 |
| Sensors and App Logging | Sleep Logs | 12,352 | 25,845 |
| Clinical Assessments | Gait & Balance | 3,414 | 3,514 |
| Clinical Assessments | Voice Recording | 9,800 | 11,744 |
| Clinical Assessments | Anthropometric | 13,533 | 25,611 |
| Clinical Assessments | BP & Heart Rate | 13,502 | 25,538 |
| Clinical Assessments | ABI | 13,057 | 23,407 |
| Clinical Assessments | PWV | 13,057 | 23,407 |
| Clinical Assessments | Hand Grip Test | 13,476 | 25,392 |
| Clinical Assessments | Complete Blood Count | 10,662 | 15,622 |
| Clinical Assessments | HMO Blood Tests | 12,315 | 31,433 |

-------

## FILE: datasets_description.md

## Datasets Overview

The Human Phenotype Project collects comprehensive health data across multiple modalities. Below is a complete list of all available datasets, organized by category.

### [Study Core](category_study_core.html)

* [Population](datasets/000-population.html): Basic demographic information for all study participants.
* [Events](datasets/001-events.html): Study visit timeline and participant research stage information.

### [Clinical Assessments](category_clinical_assessments.html)

* [Anthropometrics](datasets/002-anthropometrics.html): Individual body measurement records (e.g. height, weight, circumferences).
* [Hand Grip](datasets/006-hand_grip.html): Measurements of hand and finger grip strength.
* [Blood Pressure](datasets/007-blood_pressure.html): Multiple readings capturing systolic and diastolic pressures as well as heart rate.
* [Vascular Health](datasets/010-peripheral_vascular_health.html): ABI and PWV measurements for assessing vascular stiffness.
* [ECG](datasets/015-ecg.html): Raw and processed 12‚Äêlead ECG waveforms and machine‚Äêextracted cardiac features.
* [CBC](datasets/019-cbc.html): Complete blood count from non-invasive lip vein imaging device.
* [Voice](datasets/027-voice.html): Voice recordings and acoustic analysis for speech patterns.
* [Gait and Balance](datasets/032-gait.html): Comprehensive gait, balance, and movement assessments using motion capture technology.

### [Medical Imaging](category_medical_imaging.html)

* [Fundus](datasets/003-fundus.html): Retinal image files, vessel/artery/vein segmentations, and derived microvasculature features.
* [Liver Ultrasound](datasets/004-liver_ultrasound.html): Derived liver measures (viscosity, elasticity, attenuation), auxiliary data, and aggregated information.
* [Body Composition](datasets/011-body_composition.html): DXA‚Äêbased measures of fat and lean mass, including VAT/SAT areas, masses, and volumes.
* [Carotid Ultrasound](datasets/012-carotid_ultrasound.html): Carotid intima-media thickness measurements from ultrasound imaging.
* [Bone Density](datasets/022-bone_density.html): DXA measurements of bone mineral content and density, with age/sex/ethnicity normalized values.

### [Multi-Omics](category_multi_omics.html)

* [Serum Lipidomics](datasets/008-serum_lipidomics.html): High‚Äêthroughput lipid annotations from blood serum spectral data.
* [Gut Microbiome](datasets/013-gut_microbiome.html): Gut metagenomic sequencing with QC statistics and relative abundance profiles.
* [Human Genetics](datasets/014-human_genetics.html): Genotype data including sample metadata, QC statistics, principal components, and kinship coefficients.
* [RNA-Seq](datasets/024-rna_seq.html): Bulk gene expression profiles from PBMCs including read counts and QC metrics.
* [Olink Proteomics](datasets/028-olink_proteomics.html): Proximity extension assay-based protein biomarker profiling.
* [Nightingale Metabolomics](datasets/029-nightingale_metabolomics.html): NMR‚Äêbased quantification of blood serum metabolites (lipids, fatty acids, amino acids, etc.).
* [Vaginal Microbiome](datasets/030-vaginal_microbiome.html): Microbial profiling of the vaginal microbiome.
* [Untargeted Metabolomics](datasets/034-untargeted_metabolomics.html): High-throughput serum metabolomic profiles using LC-IM-MS to capture circulating small molecules.
* [Oral Microbiome](datasets/070-oral_microbiome.html): Metagenomic profiles of the oral microbial community derived from buccal swabs.

### [Sensors and App Logging](category_sensors_app_logging.html)

* [Diet Logging](datasets/005-diet_logging.html): Detailed food logs per participant including macronutrient information.
* [Sleep](datasets/009-sleep.html): Sleep staging, body positioning, respiratory events, heart rate, oxygen saturation, and snoring details.
* [CGM](datasets/017-cgm.html): Continuous glucose monitoring data with temporal readings and computed summary features.
* [Wearables](datasets/033-google_fit_apple_health.html): Physical activity, heart rate, sleep, and health data from wearable devices and health apps (Google Fit and Apple HealthKit).

### [Medical Records and Surveys](category_medical_records_surveys.html)

* [Blood Tests](datasets/016-blood_tests.html): Participant‚Äêprovided blood (and urine) test results from routine clinical care.
* [Medications](datasets/018-medications.html): Self‚Äêreported medication usage (mapped to ATC codes) from various collection methods.
* [Medical Conditions](datasets/021-medical_conditions.html): Self‚Äêreported binary information on diagnosed medical conditions.
* [COVID Questionnaire](datasets/043-covid.html): Survey responses on COVID‚Äê19 vaccination status and diagnosis history.
* [Sex-specific Factors](datasets/044-sex_specific_factors.html): Data on reproductive health and hormonal variations impacting medical outcomes.
* [Participant Relation](datasets/045-participant_relation.html): Self‚Äêreported information on familial relationships among study participants.
* [Medical Symptoms](datasets/049-medical_symptoms.html): Detailed self‚Äêreports of physical and mental symptoms for real‚Äêtime health tracking.
* [Medical Procedures](datasets/050-medical_procedures.html): Data on self‚Äêreported medical interventions and procedures over time.
* [Children](datasets/051-children.html): Information on participants' children including counts, birth weights, and pregnancy durations.
* [Family History](datasets/052-family_history.html): Self‚Äêreported family medical history detailing hereditary risk factors.
* [Sociodemographics](datasets/053-sociodemographics.html): Demographic and socioeconomic information such as age, education, and income.
* [Lifestyle and Environment](datasets/055-lifestyle_and_environment.html): Survey data on lifestyle behaviors and environmental exposures.
* [Psychological and Social Health](datasets/057-psychological_and_social_health.html): Self‚Äêreported mental health, emotional well‚Äêbeing, and social factors.
* [Health and Medical History](datasets/058-health_and_medical_history.html): Comprehensive data on past and current health conditions, treatments, and surgeries.

### [Derived Phenotypes](category_derived_phenotypes.html)

* [Curated Phenotypes](datasets/100-curated_phenotypes.html): Algorithmically-defined health conditions and traits derived from integrated multi-modal data analysis.


## FILE: participant_journey.md

# Get to Know the HPP

The Human Phenotype Project (HPP) is a comprehensive, longitudinal cohort study and biobank involving approximately 28,000 participants, with over 13,000 having completed their initial visit. The project aims to identify novel molecular signatures with diagnostic, prognostic, and therapeutic value, and to develop AI-based predictive models for disease onset and progression.

The HPP provides a diverse range of data types to support advanced research and AI-based predictive modeling. These include:

1. **Tabular Data**: Comprehensive datasets from questionnaires and electronic health records (EHR), covering medical history, demographic information, lifestyle and nutritional habits, family history, blood tests, medications, and diagnoses.

2. **Molecular Data**: Detailed molecular profiling, including metabolomics, genetics, transcriptomics (RNA sequencing), proteomics, and microbiome analyses (oral, vaginal, and gut).

3. **Time-Series Data**: Continuous monitoring data such as glucose levels, sleep patterns, physical activity, diet tracking, and voice recordings, offering dynamic insights over time.

4. **Imaging Data**: High-resolution medical imaging modalities, including dual-energy X-ray absorptiometry (DXA), ultrasounds, electrocardiograms (ECG), and retinal imaging, for structural and functional assessments.

5. **3D Spatial Data and Biobanked Samples**: Physical samples such as blood, serum, peripheral blood mononuclear cells (PBMCs), and swabs, stored for further biological and molecular exploration.

This rich, multimodal dataset enables unprecedented insights into health and disease, supporting the development of personalized medicine and predictive AI models. 

![](./images/participant_journey.png)



## FILE: publications.md

---
title: "Publications"
listing:
  contents: publications
  sort: "date desc"
  type: default
  categories: true
---

## FILE: about.qmd

---
title: "About the Human Phenotype Project"
page-layout: full
---

## Our Vision

The Human Phenotype Project is a **landmark effort** to empower researchers to make the next breakthroughs in human health. By profiling a diverse participant base of individuals beyond the genome, and incorporating a wealth of now-measurable data layers and environmental influences, 'deep phenotyping' gathers the details of human health and disease. 

This novel approach brings together many pieces of the puzzle and builds a high-resolution view of the key drivers behind health and disease. Following in the wake of the Human Genome Project, The Human Phenotype Project will impact the way we approach and treat a wide range of diseases that plague human health.

## Our Approach

::: {.feature-cards}
::: {.feature-card}
<div class="icon">üîç</div>
### Deep Phenotyping
We go beyond traditional health data to capture a comprehensive picture of each participant, including molecular, physiological, behavioral, and environmental factors.
:::

::: {.feature-card}
<div class="icon">üåê</div>
### Diverse Population
Our participants represent diverse backgrounds, ages, and health statuses from across the globe, ensuring research applicability to all populations.
:::

::: {.feature-card}
<div class="icon">üìà</div>
### Longitudinal Tracking
We follow participants over time, capturing how health evolves and responds to various factors and interventions.
:::
:::

## Impact on Science & Industry

::: {.info-box .success}
#### Driving Innovation
The Human Phenotype Project's proprietary datasets are already yielding insights that are advancing science and driving innovation across the pharmaceutical, healthcare, and life-sciences industries. 

As pharmaceutical R&D becomes increasingly data-driven, a **top pharmaceutical company** is using the project's data to transform its drug development programs. A prominent **US-based life-sciences company** is also using the data to engineer novel products to treat obesity, type 2 diabetes, and other cardiometabolic diseases.
:::

## Our Mission

To achieve its mission to deeply phenotype participants from across the globe, The Human Phenotype Project is now partnering with leading international research institutions and is currently **open to additional partners** who wish to join this transformative initiative.

## Research Areas

The comprehensive data from the Human Phenotype Project enables breakthrough research in:

- **Cardiovascular Health**: Understanding heart disease, hypertension, and vascular health
- **Metabolic Disorders**: Investigating diabetes, obesity, and metabolic syndrome
- **Aging & Longevity**: Uncovering the biological mechanisms of healthy aging
- **Microbiome & Health**: Exploring the role of gut, oral, and other microbiomes
- **Precision Medicine**: Developing personalized treatment approaches
- **Disease Prevention**: Identifying early biomarkers and risk factors
- **Drug Development**: Accelerating pharmaceutical discovery and validation
- **Digital Health**: Advancing wearable and remote monitoring technologies

::: {.info-box}
#### Get Involved
Interested in collaborating or accessing HPP data? [Contact us](mailto:research@pheno.ai) to learn about partnership opportunities and data access programs.
:::

---

*Together, we're building the foundation for the next generation of medical breakthroughs.*



## FILE: category_clinical_assessments.qmd

---
title: "Clinical Assessments"
---

## Description

Clinical assessments encompass a range of physical measurements and physiological evaluations conducted at the clinical testing center. These measurements provide comprehensive data on participants' physical health status, cardiovascular function, muscular strength, and other key health indicators.

## Introduction

Clinical assessments in the Human Phenotype Project are performed by trained medical staff using standardized protocols and validated medical devices. These assessments capture fundamental health metrics that serve as critical indicators of overall health status and disease risk. The data collected during clinical assessments provides a foundation for understanding the relationship between physical health parameters and other biological and lifestyle factors.

## Available Datasets

- **[Anthropometrics](datasets/002-anthropometrics.html)** - Body measurements including height, weight, waist circumference, and body composition metrics
- **[Hand Grip Strength](datasets/006-hand_grip.html)** - Muscular strength assessment using dynamometry
- **[Blood Pressure](datasets/007-blood_pressure.html)** - Systolic and diastolic blood pressure measurements
- **[Peripheral Vascular Health](datasets/010-peripheral_vascular_health.html)** - Vascular function and arterial stiffness measurements
- **[ECG](datasets/015-ecg.html)** - Electrocardiogram recordings for cardiac rhythm and electrical activity analysis
- **[CBC](datasets/019-cbc.html)** - Complete blood count from non-invasive lip vein imaging device
- **[Voice](datasets/027-voice.html)** - Voice recordings and acoustic analysis for speech patterns
- **[Gait and Balance](datasets/032-gait.html)** - Comprehensive gait, balance, and movement assessments using motion capture technology

## Measurement Protocol

All clinical assessments are conducted during participant visits to the clinical testing center. Assessments follow standardized protocols to ensure consistency and reproducibility. Trained staff members perform measurements using calibrated, medical-grade equipment. Data is recorded electronically and quality-checked before being added to the research database.



## FILE: category_derived_phenotypes.qmd

---
title: "Derived Phenotypes"
---

## Description

Derived phenotypes are algorithmically-defined health conditions and traits created by integrating multiple data sources from the Human Phenotype Project. These phenotypes combine clinical measurements, laboratory tests, imaging data, questionnaires, medical history, and other assessments to provide robust definitions of diseases and health states.

## Introduction

While the Human Phenotype Project collects raw data across many modalities, derived phenotypes represent the next level of analysis‚Äîtransforming raw measurements into clinically meaningful health classifications. Each derived phenotype follows evidence-based criteria and clinical guidelines to ensure accurate classification of participants' health status. This approach enables researchers to study complex health conditions that require integration of multiple data types, and provides standardized definitions that can be used across different research projects.

## Available Datasets

- **[Curated Phenotypes](datasets/100-curated_phenotypes.html)** - Expert-curated health conditions and traits derived from integrated multi-modal data analysis








## FILE: category_medical_imaging.qmd

---
title: "Medical Imaging"
---

## Description

Medical imaging datasets include state-of-the-art non-invasive imaging modalities that provide detailed visualization of internal body structures and tissues. These imaging techniques enable comprehensive assessment of organ health, tissue composition, vascular structure, and skeletal integrity.

## Introduction

The Human Phenotype Project utilizes advanced medical imaging technologies to capture high-resolution images of various body systems. These imaging modalities provide valuable insights into structural health, disease markers, and physiological changes that may not be apparent through other assessment methods. All imaging is performed by trained technicians using FDA-approved medical devices, following standardized protocols to ensure image quality and participant safety.

## Available Datasets

- **[Fundus Photography](datasets/003-fundus.html)** - High-resolution retinal imaging for vascular and optic nerve assessment
- **[Liver Ultrasound](datasets/004-liver_ultrasound.html)** - Hepatic imaging for liver structure and fatty liver assessment
- **[Carotid Ultrasound](datasets/012-carotid_ultrasound.html)** - Carotid artery imaging for atherosclerosis and vascular health
- **[Body Composition](datasets/011-body_composition.html)** - Bioelectrical impedance analysis for body fat, muscle mass, and water content
- **[Bone Density](datasets/022-bone_density.html)** - DEXA scanning for bone mineral density and osteoporosis assessment


## FILE: category_medical_records_surveys.qmd

---
title: "Medical Records and Surveys"
---

## Description

Medical records and surveys encompass comprehensive health information obtained from electronic health records (EHR) and detailed questionnaires. This data includes medical history, current conditions, medications, procedures, lifestyle factors, psychological health, and sociodemographic information, providing a complete picture of participants' health status and life circumstances.

## Introduction

The Human Phenotype Project integrates data from multiple sources to create a comprehensive health profile for each participant. Electronic health records provide objective clinical data collected during routine healthcare, while questionnaires capture self-reported information that may not be available in medical records. Together, these data sources enable researchers to understand the complex interplay between medical conditions, treatments, behaviors, and social determinants of health.

## Available Datasets

### Electronic Health Records

- **[Blood Tests](datasets/016-blood_tests.html)** - Laboratory results from clinical blood tests obtained through EHR integration
- **[Medications](datasets/018-medications.html)** - Current and past medication use
- **[Medical Conditions](datasets/021-medical_conditions.html)** - Diagnosed diseases and chronic conditions
- **[Medical Symptoms](datasets/049-medical_symptoms.html)** - Self-reported symptoms and complaints
- **[Medical Procedures](datasets/050-medical_procedures.html)** - Surgical and medical procedures
- **[Health and Medical History](datasets/058-health_and_medical_history.html)** - Comprehensive medical history
- **[Family History](datasets/052-family_history.html)** - Family history of diseases and conditions
- **[Children](datasets/051-children.html)** - Information about participants' children
- **[Participant Relations](datasets/045-participant_relation.html)** - Family relationships between study participants
- **[Sociodemographics](datasets/053-sociodemographics.html)** - Education, occupation, income, and living situation
- **[Lifestyle and Environment](datasets/055-lifestyle_and_environment.html)** - Physical activity, smoking, alcohol, environmental exposures
- **[Psychological and Social Health](datasets/057-psychological_and_social_health.html)** - Mental health, stress, social support, and quality of life
- **[Sex-Specific Factors](datasets/044-sex_specific_factors.html)** - Reproductive history and sex-specific health factors
- **[COVID-19](datasets/043-covid.html)** - COVID-19 exposure, symptoms, and impact


## FILE: category_multi_omics.qmd

---
title: "Multi-Omics"
---

## Description

Multi-omics datasets encompass comprehensive molecular profiling of biological samples, including genomics, transcriptomics, metabolomics, lipidomics, and microbiome analysis. These datasets provide deep insights into the molecular underpinnings of health and disease, capturing the full spectrum of biological information from DNA to metabolites.

## Introduction

The Human Phenotype Project employs cutting-edge omics technologies to profile participants at the molecular level. By integrating multiple omics layers, we can understand the complex interplay between genetic variation, gene expression, metabolic pathways, and microbial communities. This comprehensive molecular profiling enables discovery of novel biomarkers, disease mechanisms, and personalized health insights.

## Available Datasets

### Metabolomics and Lipidomics

- **[Serum Lipidomics](datasets/008-serum_lipidomics.html)** - Comprehensive lipid profiling in blood serum
- **[Olink Proteomics](datasets/028-olink_proteomics.html)** - Proximity extension assay-based protein biomarker profiling
- **[Nightingale Metabolomics](datasets/029-nightingale_metabolomics.html)** - NMR-based metabolic profiling including lipoproteins, amino acids, and glycolysis markers
- **[Untargeted Metabolomics](datasets/034-untargeted_metabolomics.html)** - High-throughput serum metabolomic profiles using LC-IM-MS to capture circulating small molecules

### Microbiome Analysis

- **[Gut Microbiome](datasets/013-gut_microbiome.html)** - 16S rRNA and metagenomic sequencing of intestinal microbial communities
- **[Vaginal Microbiome](datasets/030-vaginal_microbiome.html)** - Microbial profiling of the vaginal microbiome
- **[Oral Microbiome](datasets/070-oral_microbiome.html)** - Microbial profiling of the oral cavity

### Genomics and Transcriptomics

- **[Human Genetics](datasets/014-human_genetics.html)** - Whole genome sequencing and genotyping for genetic variation analysis
- **[RNA-Seq](datasets/024-rna_seq.html)** - Whole transcriptome sequencing for gene expression profiling



## FILE: category_sensors_app_logging.qmd

---
title: "Sensors and App Logging"
---

## Description

Sensors and app logging datasets capture continuous, real-world health data through wearable devices, smartphone applications, and specialized sensors. These technologies enable longitudinal monitoring of physical activity, sleep patterns, glucose levels, and dietary intake in participants' natural environments.

## Introduction

The Human Phenotype Project leverages consumer and medical-grade wearable technologies to collect rich, temporally dense data that complements clinical assessments. These devices provide insights into daily behaviors, physiological patterns, and health metrics that would be impossible to capture through periodic clinic visits alone. The continuous nature of sensor data allows for analysis of circadian rhythms, behavioral patterns, and the impact of lifestyle factors on health.

## Available Datasets

- **[Sleep](datasets/009-sleep.html)** - Multi-night sleep staging, respiratory events, heart rate, and oxygen saturation using FDA-approved home sleep monitoring device
- **[Continuous Glucose Monitoring (CGM)](datasets/017-cgm.html)** - Continuous interstitial glucose measurements over multiple days using wearable CGM devices
- **[Wearables](datasets/033-google_fit_apple_health.html)** - Physical activity, heart rate, sleep, and health data from Google Fit and Apple HealthKit
- **[Diet Logging](datasets/005-diet_logging.html)** - Self-reported food intake and nutritional information via mobile app



## FILE: category_study_core.qmd

---
title: "Study Core"
---

## Description

Study core datasets form the foundational structure of the Human Phenotype Project, containing essential participant demographics and study event information. These datasets provide the framework for linking all other data types and understanding the study's longitudinal structure.

## Introduction

Every research study requires a well-organized data structure that tracks participants, study events, and basic demographic information. The study core datasets serve as the backbone of the Human Phenotype Project, enabling researchers to understand who participated, when they participated, and what assessments were completed. This information is critical for data integration, longitudinal analysis, and understanding the representativeness of the study population.

## Available Datasets

- **[Population](datasets/000-population.html)** - Core participant demographics, enrollment information, and study status
- **[Events](datasets/001-events.html)** - Study visit schedule, completed assessments, and timeline information


## FILE: index.qmd

---
title: "Human Phenotype Project Knowledge Base"
page-layout: full
---

::: {style="text-align: center; margin-bottom: 2rem;"}
![](hpp_logo.png){style="max-width: 250px; width: 100%;"}
:::

## About the Human Phenotype Project

The Human Phenotype Project is a landmark effort to empower researchers to make the next breakthroughs in human health. By profiling a diverse participant base of individuals **beyond the genome**, and incorporating a wealth of now-measurable data layers and environmental influences, 'deep phenotyping' gathers the details of human health and disease. 

This novel approach brings together many pieces of the puzzle and builds a high-resolution view of the key drivers behind health and disease. Following in the wake of the Human Genome Project, The Human Phenotype Project will impact the way we approach and treat a wide range of diseases that plague human health.

## Dataset Categories

::: {.feature-cards}
::: {.feature-card onclick="window.location.href='category_clinical_assessments.html';"}
### Clinical Assessments
Physical measurements, vital signs, and device-based health metrics.
:::

::: {.feature-card onclick="window.location.href='category_medical_imaging.html';"}
### Medical Imaging
Advanced imaging technologies for detailed anatomical and physiological insights.
:::

::: {.feature-card onclick="window.location.href='category_multi_omics.html';"}
### Multi-Omics
Genomics, transcriptomics, metabolomics, and microbiome profiling.
:::

::: {.feature-card onclick="window.location.href='category_sensors_app_logging.html';"}
### Sensors and App Logging
Wearable devices, continuous monitoring, and digital health applications.
:::

::: {.feature-card onclick="window.location.href='category_medical_records_surveys.html';"}
### Medical Records and Surveys
EHR-derived data, self-reported questionnaires, and lifestyle factors.
:::

::: {.feature-card onclick="window.location.href='category_study_core.html';"}
### Study Core
Fundamental participant demographics and study event information.
:::
:::



## FILE: datasets/000-population.ipynb

---
output-file: 000-population.html
title: Population
---
### Description

Population characteristics of the Human Phenotype Project study participants.

### Introduction  

Population characteristics are fundamental demographic data that provide essential context for all other measurements and analyses in the Human Phenotype Project. This basic information about participants includes their sex and date of birth, which are crucial for:

- Understanding the composition and representativeness of the study cohort
- Calculating age at time of measurement for longitudinal analyses
- Accounting for sex-specific biological differences in health outcomes
- Enabling demographic stratification in research analyses

The Human Phenotype Project maintains strict separation between personally identifiable information (contact details, full names) and research data, using unique participant IDs to link all measurements while protecting privacy.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
Upon registration to the Human Phenotype Project, people are assigned with a registration code, which is their ID in the study and provide a telephone number and email by which all communications are conducted. Participants are asked about their date of birth and their sex, and are asked to schedule a visit to the assessment center.

Personal and communication data is saved separately in a secure environment from the population characteristics information, which is saved with the participant designated ID.

### Data availability
 <!-- for the example notebooks -->
* population.parquet - contains sex, month and year of birth per participant

### Summary of available data 
<!-- for the data browser -->
1. Study ID - the ID of the study.
2. Date of birth - only month and year of birth should be available.
3. Sex of the participants.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/1)


## FILE: datasets/001-events.ipynb

---
output-file: 001-events.html
title: Events
---
### Description 

Information on calls and visits to the clinical testing center of the Human Phenotype Project study participants.

### Introduction

The events dataset captures the temporal structure of the Human Phenotype Project, recording all interactions and visits participants have with the study over time. This longitudinal tracking is essential for understanding when measurements were taken and how participants' health evolves throughout the study.

The Human Phenotype Project is designed as a long-term longitudinal study with planned follow-up over many years. Participants initially visit the clinical testing center for comprehensive baseline assessments, and then return for follow-up visits and calls at regular intervals. Each event record includes:

- **Visits to the clinical testing center:** When participants come in person for measurements, tests, and sample collection
- **Follow-up calls:** Phone-based check-ins to update medical information and track health changes
- **Age at assessment:** Calculated from date of birth to the event date, crucial for age-adjusted analyses
- **Research stage:** Identifies whether the event is baseline, first follow-up, second follow-up, etc.

This temporal framework enables researchers to:
- Track changes in health status over time
- Link measurements taken at the same visit across different modalities
- Calculate time-varying variables such as age at measurement
- Study disease progression and health trajectories
- Assess the impact of interventions or life events on health outcomes

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
Upon registration to the Human Phenotype Project, people are assigned with a registration code, which is their ID in the study and provide a telephone number and email by which all communications are conducted. Participants are asked about their date of birth and their sex, and are asked to schedule a visit to the assessment center.

Personal and communication data is saved separately in a secure environment from the population characteristics information, which is saved with the participant designated ID.


### Data availability
<!-- for the example notebooks -->
* events.parquet - contains information regarding participant visits and calls and study_ids.

### Summary of available data 
<!-- for the data browser -->
1. Participant ID - assigned to participants upon registration.
2. Study ID - the ID of the study.
3. Visit dates - dates of calls/visits to the assessment center.
4. Date of birth - only month and year of birth should be available.
5. Sex of the participants.
6. Age at research stage - calculated age of the participant at each research stage/event.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/1)



## FILE: datasets/002-anthropometrics.ipynb

---
output-file: 002-anthropometrics.html
title: Anthropometrics
---
### Description

Anthropometrics is the study of the measurement of the human body in terms of the size, weight, and proportions of its various parts.

### Introduction

Anthropometrics is an important tool in the field of medicine, as it allows for the assessment of a person's health and nutritional status, as well as the identification of potential health risks.

Anthropometric measurements can be used to assess the body composition of adults, which can help to identify potential health risks such as sarcopenia (age-related loss of muscle mass) or obesity. In a clinical setting, anthropometric measurements are typically used in combination with other medical tests and evaluations to provide a more complete picture of a person's health. For example, a doctor may use anthropometric measurements in combination with blood tests and imaging studies to assess a person's nutrition status, or to identify potential health risks such as cardiovascular disease or diabetes. Additionally, these measurements may be used to help monitor the effectiveness of treatment interventions, such as weight loss programs, and to track changes in a person's health over time.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
Our anthropometric measurements include height, weight, waist circumference, hip circumference, and neck circumference. The equipment used in this protocol includes a measuring tape and a scale, specifically a Shekel stadiometer (Shekel Ultrasonic Physician BMI Scale h 120-4). The stadiometer used is shown in the figure below. 

![image alt](002-anthropometrics/anthro_intro.png)

For measuring height, participants are asked to stand with their face against the scale, legs parallel to each other, toes pointing forward, and soles flat on the floor. Ensure participant's posture is unsupported, to stand as tall as possible, completely standing on the scale with legs straight. The height is recorded in centimeters. 

For measuring weight, the participant is asked to remove their shoes and excess clothing, and stand on the stadiometer. The weight is recorded in kilograms. The measurement protocol for the waist, hip, and neck circumference include specific instructions for standing position, and the use of measuring tape. All circumference measurements are recorded in centimeters.

### Data availability 
<!-- for the example notebooks -->
The information is stored in 1 parquet file: `anthropometrics.parquet`

### Summary of available data 
<!-- for the data browser -->
A data frame of tabular data containing individual level body measurement records and derived measures, including:
- Height (measured in centimeters using stadiometer)
- Weight (measured in kilograms)
- Waist circumference (measured in centimeters)
- Hip circumference (measured in centimeters)
- Neck circumference (measured in centimeters)
- Derived measures such as Body Mass Index (BMI) and waist-to-hip ratio

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/2)



## FILE: datasets/003-fundus.ipynb

---
output-file: 003-fundus.html
title: Fundus Photography
---
### Description

Fundus imaging allows for the visualization of the interior surface of the eye, known as the fundus; and used to examine structures such as the optic disc, retina, and retinal microvasculature. This procedure is commonly used to diagnose and monitor a variety of eye diseases.

### Introduction

Fundus imaging is a type of medical imaging technique that is used to obtain detailed, high-resolution images of the back of the eye, including the retina, the optic nerve, and the macula, an oval-shaped area in the center of the retina used for central vision (Figure 1). These images can provide important information about the health of the eye and can be used to diagnose and monitor a variety of eye diseases and conditions.

One of the key features that can be seen in fundus images is the retinal microvasculature, which refers to the network of small blood vessels that supply blood to the retina. The appearance and structure of the retinal microvasculature can provide information about the health of the eye and can be used to diagnose and monitor a variety of conditions.

In addition, the information provided by fundus imaging can also be used in research to better understand the underlying mechanisms of various eye conditions and as a non-invasive tool for visualization of the general microvascular circulation health and a direct view to part of the central nervous system. As such, the fundus image can serve as a window to systemic health. 

The Human Phenotype Project (HPP) performs fundus imaging on each participant's eyes to produce image and DICOM files. To process and enhance the data, an open source software pipeline: [AutoMorph: Automated Retinal Vascular Morphology Quantification via a Deep Learning Pipeline (Zhou 2022)](https://tvst.arvojournals.org/article.aspx?articleid=2783477), that combines several different deep learning models is used. Specifically for the following steps:
(1) Image pre-processing.
(2) Image quality grading.
(3) Anatomical segmentation (binary vessel segmentation, artery/vein segmentation, and optic disc segmentation).
(4) Various morphological feature measurements such as vessel caliber, tortuosity density, fractal dimension etc. These features were calculated separately for segmented veins and arteries, and also as a combined feature.
The current pipeline does not include automatic identification or clinical interpretation of eye abnormalities such as age-macular degeneration (AMD) or edema, glaucoma signs, microaneurysms etc‚Äô that can be derived from the fundus image.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
Images of both eyes were taken with the iCare DRSplus confocal fundus imaging system (ICare). Center view 45¬∞ retinal images were collected without pupil dilation.  

![DRSplus confocal fundus imaging system](003-fundus/fundus_drs_plus.png)

### Data availability 
<!-- for the example notebooks -->
- All tabular information is stored in a main parquet file: `fundus.parquet`
- Derived microvasculature information is stored in a secondary parquet file: `microvasculature.parquet`
- Image files including segmentations are stored in subfolders and mapped in the parqet files.

### Summary of available data 
<!-- for the data browser -->
1. Fundus image files.
2. Segmented images of vessels, veins, arteries.
3. Image quality scores and auxiliary data fields.
4. Extracted retinal microvasculature features (such as vessel caliber, tortuosity density, fractal dimension).

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/3)


## FILE: datasets/004-liver_ultrasound.ipynb

---
output-file: 004-liver_ultrasound.html
title: Liver Ultrasound
---
### Description

Measures of liver health from a liver ultrasound and 2D shear wave elastography (2D-SWE), including measures of viscosity, elasticity, attenuation, and sound speed.

### Introduction

Liver ultrasound was performed using the Supersonic Aixplorer MACH 30 (Hologic, USA). The Supersonic Imagine Aixplorer is an ultrasound device that is able to measure the liver's stiffness, viscosity, attenuation and sound speed to diagnose and monitor liver conditions such as steatosis, fibrosis and inflammation. The device uses several ultrasound-based measures, including Speed of Sound (SSp.PLUS), Attenuation Index (Att.PLUS), Viscosity (Vi.PLUS) and Elasticity (Two-Dimensional ShareWave Elastography (2D-SWE)) to evaluate the liver and improve diagnosis performance. These measurements have been shown to be correlated to different stages of liver conditions.

Ultrasound-based liver measurements were performed using ShearWave Elastography (2D- SWE.PLUS) for elasticity assessment, sound speed Plane-wave ultrasound and attenuation. Plane-wave ultrasound was measured for assessment of liver steatosis (fatness) and viscosity plane-wave ultrasound for assessment of viscosity as a marker of inflammation. Measurements were performed with a C6-1X convex transducer using the UltraFast software available on the Mach 30 ultrasound system. US images of the liver were also saved.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
All patients were examined in supine position, with the right arm elevated above the head, by an intercostal approach, in the right liver lobe. Acquisitions were performed during neutral respiratory apnea. Initially the Attenuation and Speed of Sound were measured from a homogeneous area of the liver parenchyma free of vessels or other structures. Measurements were performed from 3 different liver regions. 2D-SWE and viscosity were then measured from 3 different locations in an area of relative uniform elasticity, at a depth of 3‚Äì5 cm using stability index tool (SI) derived from the spatial and temporal stiffness stability at a stability index >90%. 

![Liver US example](004-liver_ultrasound/liver_ultrasound_swe_and_vi_image.png)

### Data availability 
<!-- for the example notebooks -->
The information is stored in 2 parquet files: `liver_ultrasound.parquet`and `liver_ultrasound_aggregated.parquet`

### Summary of available data 
<!-- for the data browser -->
1. Liver ultrasound image DICOM file
2. Liver ultrasound image file
3. Derived measures (e.g. viscosity, elasticity, and attenuation)
4. Auxiliary data (e.g. stability index)

### Relevant links

- [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/4)


## FILE: datasets/005-diet_logging.ipynb

---
output-file: 005-diet_logging.html
title: Diet Logging
---
### Description

Diet logging using a smartphone app involves collecting data on food and drink consumption through a mobile application. These data include information such as types of food, serving sizes, nutritional information and the times of consumption. The data is used to track dietary habits and can be used in scientific research to gain insights into the dietary habits of a population and to correlate to other temporal measurements and events.

### Introduction

There is a strong relationship between the development of chronic disease and a person‚Äôs diet. Adults who eat a healthy diet are more likely to live longer and are less likely to develop chronic disease or become obese. An unhealthy diet is a major risk factor for type 2 diabetes, cardiovascular disease and certain types of cancer. Consuming a nutrient-dense diet was associated with a low risk of all-cause mortality.

Nutritional epidemiology is a sub-discipline of epidemiology that provides data about the relationship between diet and disease. The data collected is used to define diet‚Äìdisease associations that are converted into the practice of prevention by public-health nutrition practitioners. To study the associations between diet and disease, there is a need to accurately characterize the dietary habits of individuals. One approach is to use a food diary, which is a daily log of what an individual eats and drinks. Such diaries are used to characterize eating habits in large and small epidemiological studies. Owing to recent technological advancements and the vast availability of smartphones, nutrition-related apps are commonly used to track dietary behavior.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
Participants in the Human Phenotype Project are asked to log their food for a period of at least two weeks following each visit to the assessment center or a followup call. The figure below shows the process of logging a food item through the diet logging app.

![image alt](005-diet_logging/diet_logging_eng.png)

Participants are asked to download the app and start logging data one day before the visit to the assessment center. Participants are asked to log everything they eat and drink and to include as one ‚Äúmeal‚Äù all the items they have consumed within a 30 minute interval. While participants are asked to log their meals for at least 14 days after each visit, the logging app is open for the whole study period and participants are encouraged to document their diets beyond this time. 


### Data availability:  
<!-- for the example notebooks -->
The information is stored in 3 parquet files: `diet_logging.parquet`, `diet_logging_events.parquet`,  `raw_diet_logging_events.parquet `which contains summary information, processed diet logging data and raw diet logging data respectively.

### Summary of available data 
<!-- for the data browser -->
1. Clean Diet Logging Data: A DataFrame with individual-level diet logging records, post-basic preprocessing and filtering.
2. Raw Diet Logging Data: A DataFrame containing the raw, unprocessed individual-level diet logging records.
3. Nutrients: Nutritional information corresponding to the diet logging records.
4. Summary Table: Contains summary statistics of the diet logging data, aggregated per participant per research stage.


### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/5)



## FILE: datasets/006-hand_grip.ipynb

---
output-file: 006-hand_grip.html
title: Hand Grip Strength
---
### Description

Hand grip strength (HGS) is an effective marker of general health in middle age and older adulthood. Grip strength is measured by squeezing a type of muscle strength testing equipment, known as a dynamometer.

### Introduction

HGS is a measure of the maximum force that an individual can exert with their hand. It is a widely used measure of muscular strength. HGS is an easy and quick measure to obtain.

In a clinical setting, HGS is often used as a measure to assess changes in muscle strength over time. For example, in patients with conditions such as osteoarthritis, rheumatoid arthritis, or sarcopenia. Additionally, HGS can be used to assess the effectiveness of rehabilitation programs, such as those used to recover from a stroke or from other neurological conditions.

HGS is also used in research studies to investigate the relationship between muscle strength and various health outcomes, such as cardiovascular disease (CVD), respiratory function, and mortality. Studies have shown that low HGS is associated with increased risk of these and other health conditions, highlighting the importance of this measure in identifying individuals at risk for these conditions. Low HGS can be a warning sign of frailty, especially in older adults, as well as muscle wasting and weakness. Based on this, HGS can be used as a simple, non-invasive, and inexpensive method to predict physical frailty and disability.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
HGS is measured using a Jamar Hydraulic Hand Dynamometer (see figure below). The measurement is a measure of the static force (without movement) that the hand can exert when squeezing around the dynamometer. The measurement is recorded in pounds initially, and then converted to kilograms.

![image alt](006-hand_grip/grip_strength_info.png)

The participant is asked to sit upright in a chair with the arm bent at a 90¬∞ angle so that their forearm is pointing forward, with their thumb uppermost. The participant is asked to hold the device first in their dominant hand and adjust the handle of the dynamometer as necessary, ensuring the base rests on the first metacarpal and the handle on the middle of the four fingers. The participant is asked to squeeze the handle of the dynamometer for at least 3 seconds. The results are manually recorded, and then the measurement is repeated for the non-dominant hand.


### Data availability 
<!-- for the example notebooks -->
The information is stored in 1 parquet file: `hand_grip.parquet`

### Summary of available data 
<!-- for the data browser -->
1. Raw data: a data frame containing individual level hand grip strength measurements.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/6)



## FILE: datasets/007-blood_pressure.ipynb

---
output-file: 007-blood_pressure.html
title: Blood Pressure
---
### Description

Blood pressure is the measurement of the force exerted against the walls of the arteries as blood flows through them. Blood pressure is recorded as two values: systolic pressure (the maximum arterial pressure during left ventricular contraction) and diastolic pressure (the minimum arterial pressure during left ventricular relaxation).

### Introduction

Hypertension, or elevated blood pressure, is a significant risk factor for cardiovascular disease and cerebrovascular events, contributing substantially to global mortality and morbidity. Chronic hypertension is characterized by persistently elevated arterial pressure, which increases cardiac workload and can lead to cardiovascular complications. Conversely, hypotension, or abnormally low blood pressure, can be equally detrimental. Severe hypotension may result in inadequate perfusion of vital organs, potentially leading to insufficient oxygen and nutrient delivery, and in extreme cases, progressing to circulatory shock, a life-threatening condition.

Blood pressure measurement can be performed in a variety of settings, including hospitals, clinics, and even at home, using an automated or manual sphygmomanometer. Blood pressure measurement can be used to monitor the effectiveness of treatment interventions, such as lifestyle changes. The goal of treatment is to achieve and maintain target blood pressure levels, which are generally lower for individuals at higher risk for cardiovascular disease. 

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
Blood pressure is measured using an OMRON Blood Pressure Monitor HEM-RML31 device and an appropriately sized cuff. Multiple blood pressure readings are done during the visit. For each blood pressure reading, three measurements are taken: systolic pressure, diastolic pressure, and average heart rate. The participant is asked to avoid caffeine, exercise and smoking at least 30 minutes before the measurement. The measurement is taken on the left arm if possible. The cuff size is based on the arm circumference. 

The participant is seated for 5 minutes, after which the first measurement is taken. Repeat a second measurement after 2 minutes. The participant then lies down for 5 minutes and the lying blood pressure reading is taken. The participant then stands up, slowly. The first standing reading is taken after 1 minute of standing and the next reading after 3 minutes of standing. The participant is asked to report about dizziness on standing up.

![image alt](007-blood_pressure/blood_pressure_info.png)

### Data availability 
<!-- for the example notebooks -->
The information is stored in 1 parquet file: `blood_pressure.parquet`

### Summary of available data 
<!-- for the data browser -->
1. Raw data: a data frame containing individual level blood pressure measurements.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/7)



## FILE: datasets/008-serum_lipidomics.ipynb

---
output-file: 008-serum_lipidomics.html
title: Serum Lipidomics
---
### Description

High throughput untargeted lipidomics in serum by Ultra-High-Performance Liquid Chromatography Electrospray ionization High-resolution mass spectrometry (UHPLC-ESI-HRMS).

### Introduction

The serum metabolome is known to represent a variety of environmental, genetic and other endogenous factors (Bar et al. 2020). Lipidomics is a subfield of metabolomics, which is defined as the study of pathways and networks of cellular lipids in biological systems. Lipids perform various functions within the body, from structural components of cell membranes, to energy reserve and regulating hormones. These pivotal functions highlight circulating lipids as playing a key role in a number of age-related diseases such as cardiovascular disease and stroke (Holmes et al. 2018; Michos et al. 2019). 

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
The data acquisition process can be broken down into these three main stages:
1. Sample preparation and experimental design, performed by the wet lab at Weizmann
2. Operating the MS machines to obtain the raw spectral data, performed by the Weizmann service unit
3. Processing the raw spectral data to obtain the final format for research, performed by the computational lab at Weizmann

#### Sample preparation and experimental design

The process starts with drawing blood from the participants during their visit to the assessment center (see Sample inventory for details). Serum is extracted from the sample and is aliquoted into 5 smaller tubes. All the barcodes mapping are currently documented in the LabCollector.
The team at the wet lab performs the sample preparation and samples are arranged in working plates of size 96.
Every plate contains 92 samples from study participants, and 4 QC samples that will be used for systematic bias correction. The QC includes two types:
1. Empty well for blank (position 93 in the plate)
2. Anchor sample - this is a sample that was pooled from a large number of study participants, and is used as validation for the statistical correction methods. Same sample is used repeatedly. (position 94 in the plate)
3. Two NIST samples - these are standardized technical replicates that contain a predefined mixture of human serum metabolites. These samples are later used for running order and batch correction of the data. (positions 95-96 in the plate)

For every plate, the team at the wet lab produces an experimental design file that describes the layout for the analysis of the plate. Mainly, it describes the ordering of the samples to be injected into the MS machine, including the various sample types (HPP, empty, NIST, anchor), the tube barcode, their quantity and location. Systematic removal of technical noise is partly performed based on this experimental design file.

#### Operating the MS machines to obtain the raw spectral data

The service unit in Weizmann is responsible to operate the MS machines in order to profile the samples. According to the service unit staff, initial QC checks are performed after the injection of every plate, making sure that internal standards are identifiable, and that the sensitivity of the MS machine is within reasonable limits.

#### Processing the raw spectral data to obtain the final format for research

Lipid annotations were obtained by comparing the mz, retention times and ccs values to equivalent empirical measurements from a library that was profiled on the same instruments with longer running times (26 minutes).

### Data availability 
<!-- for the example notebooks -->
The information is stored in 1 parquet file: `serum_lipidomics.parquet`

### Summary of available data 
<!-- for the data browser -->
1. Raw spectral data per sample in open source format (mzML).
2. All features of processed data (systematic error removed, batch corrected, plates merged).
3. Annotated processed features.
4. Clustered processed features.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/8)


## FILE: datasets/009-sleep.ipynb

---
output-file: 009-sleep.html
title: Sleep
---

### Description

Sleep monitoring includes sleep staging, body positioning, respiratory events, heart rate, oxygen saturation and snoring, measured concurrently over three nights.

### Introduction 
<!-- just for sleep: shortened from the original introduction in the data doc -->
Obstructive sleep apnea (OSA) is a sleep disorder in which a person‚Äôs breathing is interrupted during sleep due to obstruction of the upper airway as a result of relaxation of the throat muscles. This obstruction can lead to pauses in breathing for short periods of time, which can cause loud snoring, reduction in the  blood oxygen levels, stress response, awakening and fragmented sleep.

A home sleep apnea test (HSAT) is a non-invasive test used to diagnose sleep apnea. During an HSAT, a patient wears a portable device overnight to monitor their breathing, heart rate, oxygen levels, snoring, and other sleep patterns. The device records this data and it is then analyzed by clinically-validated algorithms that compute apnea-related indices. The data can also be used to study sleep architecture and other aspects of sleep, such as heart rate variability (HRV) and arrhythmia.

The device used for sleep monitoring in the Human Phenotype Project is the FDA-approved WatchPAT-300 by Itamar Medical. This device contains 5 sensors: An actigraph worn on the wrist; a pulse oximeter and a Peripheral Arterial Tone (PAT) probe worn on the finger; and a microphone and accelerometer worn on the chest for respiratory effort, snoring and body position measurement (RESBP).

The PAT probe measures changes in the volume of blood vessels by applying a uniform pressure field over the covered finger, preventing venous blood accumulation while measuring changes in the flow within the probe with a photoplethysmogram (PPG) sensor. The measured PAT signal is a physiological signal that reflects changes in the autonomic nervous system caused by respiratory disturbances during sleep. WatchPAT's algorithm analyzes the PAT signal amplitude, heart rate, and oxygen saturation to identify and classify sleep-related breathing problems.

The device's algorithms provide 3 main indices for diagnosis of OSA: Apnea/Hypopnea Index (AHI), Respiratory Disturbance Index (RDI), Oxygen Desaturation Index (ODI). The device's algoithms also provide indices for diagnosis of Atrial Fibrillation (not FDA-approved yet): Premature beats per minute, Atrial fibrillation longest event.

In addition to the above, the device's algorithms provide statistics on sleep architecture. Furthermore, we use [NeuroKit2](https://neuropsychology.github.io/NeuroKit/) ([Makowski et al., 2021](https://doi.org/10.3758/s13428-020-01516-y)) to compute HRV indices from the PAT channel.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
The WatchPAT device is given to participants during the visit to the clinical testing center who then record 3 nights of sleep at home during the following two weeks (see figure below). Participants who use CPAP/BiPap devices are asked to report the usage of CPAP/BiPap devices in the HPP App per the monitored nights.

![image alt](009-sleep/sleep_info_figure1.png)

Figure 1: WatchPAT-300 device. (Source: Itamar Medical)

General guidelines: Once the device is turned on it cannot be turned off, and should therefore be turned on only when the participant is ready to go to sleep. The device should not be removed if the participant needs to get up during the night. The device will turn off automatically when the participant wakes up. The PAT probe is replaced each night, and 3 probes are provided to each participant. Finally, the device is returned to the clinic and the data is analyzed.

PAT setup: It is recommended to apply the WatchPAT device on the non-dominant hand. The PAT probe can be worn on any finger, except the thumb. In the case of large fingers, the pinky is recommended. Before use, it is recommended to remove tight clothes, rings, watches and other jewelry. Artificial nails and nail polish should be removed from the test finger, and the fingernail should be cut short. The finger is inserted into the probe until reaching its end, until the sticker marked TOP is on the top of the finger above the nail. The finger is then pressed against a hard surface. Finally, the top tab is removed.

RESBP setup: Trim thick chest hair, if needed. Stick the sensor to the center of the upper chest bone, just below the front of the neck. The image on the RESBP sensor should be facing up. Secure the sensor using the provided sticker on its back and additional medical tape.

WatchPAT device setup: It is strapped on the wrist of the non-dominant hand.

### Data availability 
<!-- for the example notebooks -->
The information is stored in 2 main statistics parquet files: `sleep.parquet`, `hrv.parquet` (computed using NeuroKit2); In multiple events parquets and in multiple time series parquets / EDF files containing sensor channels for each night of logging.

```{mermaid}
flowchart LR;

Sensor(sleep sensor):::sensor --> Raw(raw channel):::raw
Raw -->|zzzPAT| Events(sleep events):::event
Raw -->|NeuroKit2| Extracted(computed stats)
Events --> Extracted
Events -->|zzzPAT| Summary(summary stats):::stat
```

### Summary of available data 
<!-- for the data browser -->
The data comprises of 3 levels of processing:

1. Raw channels: A data frame of temporal data - values and times - for each of 12 source channels.
2. Events: A data frame of annotated events based on the manufacturer‚Äôs analysis of the raw channels. Each row contains the event, its main source channel, its start time and end time.
3. Summary statistics: A data frame of computed features provided by the manufacturer based on the above channels and events. Some of the summary stats are also computed separately for different sleep stages and body positions. Additional computed features, such as the ones related to heart rate variability (HRV, using NeuroKit2) and sleep fragmentation, are computed by Pheno.ai.

### Relevant links

- [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/9)



## FILE: datasets/010-peripheral_vascular_health.ipynb

---
output-file: 010-peripheral_vascular_health.html
title: Peripheral Vascular Health
---
### Description

Ankle-Brachial Index (ABI) and Pulse Wave Velocity (PWV) are measured in the Human Phenotype Project to assess vascular health. ABI is a ratio of the blood pressure in the ankle to the blood pressure in the arm. PWV, is the speed at which the pulse wave of the blood pressure travels along the wall of an artery or a combined length of arteries.

### Introduction

ABI and PWV are measured in the Human Phenotype Project to assess vascular health. ABI is a ratio of the systolic blood pressure in the ankle to the systolic blood pressure in the arm. PWV is the speed at which the pulse wave of the blood pressure travels along the wall of an artery or a combined length of arteries.

#### ABI
Ankle-Brachial Index (ABI) measurements were conducted using the Falcon (Viasonix, Israel) device while subjects were in supine position. During the ABI test, primary systolic pressures are measured in each of the right and left brachial arteries, and right and left ankles. ABI is determined as the ratio between the brachial systolic pressure and the ankle pressure on each side providing ABI values per each side. The systolic pressures were based on a combination of blood pressure cuffs and blood flow reading with photoplethysmograph (PPG) sensors placed on the measured limb fingers.  Under normal circumstances, the blood pressure in the ankle will be very similar or identical to that measured in the arm, so the measured ABI value will be close to 1. In the case of peripheral arterial disease, there will be a discrepancy - the blood pressure at the ankle will be lower than the blood pressure in the arms. This will indicate insufficiency in the arteries that carry blood to the legs. In the general population, PAD affects about 10% of people over the age of 55.

#### PWV
Pulse wave velocity (PWV) is considered a surrogate marker for arterial stiffness/elasticity, which is correlated with vascular disease (REF). Vascular elasticity is important for the normal vascular function for attenuation and smoothing of the pulsation intensity and blood flow. With age, and in combination with atherosclerosis processes, blood vessels may lose their elasticity and become stiff. Increased arterial stiffness can predict future vascular system problems.The contractions of the heart generate arterial blood pressure pulse waves which propagate through the arterial walls. PWV is defined as the velocity at which these arterial blood pressure pulses propagate. PWV is a quantitative parameter reflecting arterial stiffness. Higher PWV values reflect greater than normal arterial stiffness. 
While there is no one set standard of how or where to measure PWV, some of the more common PWV measurements include the baPWV, which reflects the pulse wave propagation between the brachial and ankle, cfPWV reflecting propagation between the carotid and femoral, and faPWV also know as leg PWV reflecting the PWV along the leg between the femoral and ankle.
In the HPP we measure leg PWV (faPWV). PWV is highly dependent on the method of measurement, as well as on the measurement sites. Therefore, typical values for baPWV differ from faPWV and cfPWV.
Based on literature reports, normal PWV values can range between around 6 m/s to 14 m/s, depending on the method of measurement, location and the patient‚Äôs age. For example, according to Laurent et al.  the PWV increases from 4‚Äì5 m/s in the ascending aorta to 5‚Äì6 m/s in the abdominal aorta then 8‚Äì9 m/s in the iliac and femoral arteries (Laurent et al. European Heart Journal (2006) 27, 2588‚Äì2605)

PWV has been recognized as an indicator of organ damage and a useful additional test in the investigation of high blood pressure, it is also a useful method for prediction of cardiovascular events and mortality. Studies have also shown that ABI is a reliable predictor of cardiovascular disease and mortality in patients with peripheral artery disease.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
Measuring the systolic blood pressure with the Falcon is based on a combination of both blood pressure cuffs and a Photoplethysmograph (PPG) sensor. A blood pressure cuff is wrapped around the measured site, and a distal PPG waveform is obtained by the PPG sensor. Firstly, the cuff is inflated until the distal signal disappears as a result of the total occlusion (The cuff produces higher pressure than the artery). Secondly, the blood pressure cuff is deflated in a controlled manner, and the cuff pressure at which the distal signal re-appears is determined as the systolic pressure of the artery (will occur after pressure equalization between the cuff and the artery).

The measurement of PWV is based on the definition of velocity, i.e., distance divided by time. The initial systolic upstroke serves as a time marker. When the arterial pulse wave propagates along with the arterial circulation, there is a short time delay between the proximal and the distal measurement sites, i.e the propagation time between them. The distance between the two measurements is measured directly using a measurement tape. The measurement is performed with the aid of blood pressure cuffs. These cuffs are wrapped around the ankle and thigh.

![vascular](010-peripheral_vascular_health/vascular.png)


### Data availability 
<!-- for the example notebooks -->
The information is stored in 1 parquet file: `vascular_health.parquet`

### Summary of available data 
<!-- for the data browser -->
1. ABI and PWV measurements: A data frame of computed features provided by the manufacturer based on the above channels

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/10)


## FILE: datasets/011-body_composition.ipynb

---
output-file: 011-body_composition.html
title: Body Composition
---
### Description 

Body composition was profiled based on DXA (dual-energy x-ray absorptiometry) imaging, and includes measurements of fat and lean mass for the legs, arms, trunk, gynoid, and android, as well as measurements of total scan visceral adipose tissue (VAT) and subcutaneous adipose tissue (SAT) area, mass and volume are included.

### Introduction

DXA (dual-energy x-ray absorptiometry) is a medical imaging technique that is used to measure body composition, specifically the amounts of bone, fat, and lean muscle tissue in the body. A DXA scan uses a low dose of ionizing radiation to produce a detailed image of the body, which is then analyzed by a software to determine the body composition. This method is considered to be one of the most accurate methods for measuring body composition, as it is able to distinguish between different types of tissue and provide detailed information about the distribution of fat and muscle in the body. DXA imaging is commonly used for assessing bone density and for monitoring changes in body composition over time, such as during weight loss, muscle building programs or for assessment of sarcopenia.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
Dual-energy X-ray Absorptiometry (DXA) was performed with the GE Lunar Prodigy Advance device (GE Healthcare, USA) and the GE CoreScan software application. Before the scan, participants were asked to remove all metal items, heavy clothing and shoes. Each participant performed a total body scan in a supine position to determine percent body fat, fat mass, lean body mass, and bone mineral density. The total body composition is calculated for various regions (arms, legs, trunk, android, gynoid and total). The CoreScan also estimates the Visceral Adipose Tissue (VAT) and Subcutaneous Adipose Tissue (SAT) content within the android region. Bone mineral density was measured from the Femur necks, bilaterally and from the spine vertebra L1-L4. 

![DXA](dxa_machine.jpeg)

### Data availability 
<!-- for the example notebooks -->
The information is stored in 1 parquet file: `body_composition.parquet`

### Summary of available data 
<!-- for the data browser -->
1. **Regional body composition measurements:**
   - Fat and lean mass for legs, arms, trunk, gynoid region, and android region
   - Total body fat percentage and total lean mass
2. **Adipose tissue measurements:**
   - Visceral adipose tissue (VAT) area, mass, and volume
   - Subcutaneous adipose tissue (SAT) area, mass, and volume
   - VAT/SAT ratios
3. **Imaging files:**
   - DXA image files (e.g., total body composition - %fat)
   - DXA image DICOM files

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/11)



## FILE: datasets/012-carotid_ultrasound.ipynb

---
output-file: 012-carotid_ultrasound.html
title: Carotid Ultrasound
---
### Description 

Carotid intima‚Äìmedia thickness computed from carotid ultrasound imaging.

### Introduction

Carotid intima-media thickness (CIMT) measurement is an ultrasound-based technique used to assess the thickness of the innermost two layers of the carotid artery, known as the intima and media. These layers can become thickened due to atherosclerotic processes or due to age. The thickening of the intima-media layer can be throughout the length of the artery (increased IMT) or as local accumulation of fatty deposits that penetrate into the vessel interior known  as plaques. Advanced plaques can cause stenosis of the artery. Carotid IMT is increasingly used as an indicator of early atherosclerosis and a predictor for cardiovascular events and can be used for identifying asymptomatic patients at high risk who might be candidates for more intensive medical interventions. Measurement of CIMT with B-mode ultrasound is a noninvasive, sensitive, and reproducible technique for identifying and quantifying subclinical vascular disease and for evaluating CVD risk.

The ultrasound probe is placed on the skin over the carotid artery and high-frequency sound waves are used to produce images of the artery. These images are then analyzed using an automatic detection algorithm to measure the thickness of the intima and media layers. 

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
Carotid US was performed using the Supersonic Aixplorer MACH 30 (Hologic, USA). Carotid Intima Media (CIMT) was measured using the L10-2 transducer from both carotid arteries while the subject in supine position with head rotated to the opposite side of the measured artery. Evaluation was performed using an automatic computerized system (Aixplorer Mach 30). The intima and media are automatically traced within the box of interest. Mean CIMT was recorded over a length of 1 cm at the far wall of each carotid artery. One measurement was obtained from each carotid artery. Only parts of the carotid artery without plaques were included in the IMT analysis.

![IMT example](012-carotid_ultrasound/imt_lt_sample.png)

### Data availability 
<!-- for the example notebooks -->
The information is stored in 1 parquet file: `carotid_ultrasound.parquet`

### Summary of available data 
<!-- for the data browser -->
1. Ultrasound images of the left and right carotid arteries.
2. DICOM files of the test.
3. Right and left Intima Media Thickness.
4. Percentages of fit and width of the box of interest for which the IMT is calculated.

### Relevant links

- [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/12)


## FILE: datasets/013-gut_microbiome.ipynb

---
output-file: 013-gut_microbiome.html
title: Gut Microbiome
---

### Description 
<!-- just for gut microbiome: shortened from the original introduction in the data doc -->
Metagenomics is the study of genetic material from environmental samples, including microbial communities. It involves sequencing the DNA of all microorganisms in the sample, rather than isolating individual organisms. Metagenomics enables the identification and functional analysis of microorganisms in diverse environments, including soil, water, and the human body.

This dataset maps out the human gut microbiota per participant via shotgun metagenomic sequencing given stool samples. It is then compared to known references of gut flora to measure prevalence of specific microbes.

### Introduction 
<!-- just for gut microbiome: shortened from the original introduction in the data doc -->
The human gut, a complex and dynamic ecosystem, harbors a myriad of microorganisms collectively known as the gut microbiome. This community plays a critical role in various physiological processes such as immune modulation, metabolic regulation, and even functions as an endocrine organ. However, the vast complexity and diversity of the gut microbiome have remained largely elusive due to traditional culture methods' limitations. Recent advances in next-generation sequencing technologies, particularly metagenomics, have paved the way for a more comprehensive understanding of the gut microbiome.

Gut metagenomics refers to the study of the collective genetic material of all microorganisms present in the gut, gleaned directly from fecal samples. It provides a powerful tool for the identification and quantification of diverse microbial species and their functional roles, including their influence on metabolic pathways, their virulence factors, antibiotic resistance profiles, and more. Moreover, gut metagenomics can reveal the taxonomic diversity and community structure of the microbiome, offering insights into the intricate relationship between the microbiome and its host.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
To measure the genetic makeup of the human gut flora given stool samples via metagenomics, the following steps done:

1. Collection of stool sample: For each visit, a stool sample is collected from the individual and stored appropriately to preserve the microbial community.
2. DNA extraction: DNA is extracted from the stool sample using specialized techniques to isolate the microbial DNA from other materials present in the sample.
3. DNA fragmentation and sequencing: The extracted DNA is then fragmented into small pieces and sequenced using high-throughput sequencing technologies.
4. Quality control: The resulting raw sequencing data is then pre-processed, removing low-quality reads and artifacts of the sequencing methodology.
5. Taxonomic classification: The processed sequencing data is then compared to databases of known microbial sequences to identify and classify the microbial species presence and their respective abundances in the sample.

### Data availability 
<!-- for the example notebooks -->
The information is stored in multiple parquet files:

- `gut_microbiome.parquet`: Sequencing and QC statistics.
- `urs`: Segal Lab relative abundance.
- `metaphlan_*`: 8 tables with MetaPhlAn 4 relative abundances, separated by taxonomic levels.

```{mermaid}
graph LR;
    A(Raw FASTQ File) --> |Trimmomatic| B(Clean FASTQ File)
    A --> |FASTQC| C(QC HTML)
    
    B --> |BWA| D(Non Human Reads)
    B --> |BWA| E(Human Reads)
    
    D --> |MetaPhlAn 4| F(MetaPhlAn 4 Abundances<br>Tabular)
    D --> G("URS (Segal) Abundances<br>Tabular")
    
    E --> |GATK4| H(Human Variants<br>Plink)
    
    F --> I(Pipeline Metadata)
    G --> I
    H --> I
    C --> I
```

### Summary of available data 
<!-- for the data browser -->
1. Sequencing and QC statistics.
2. FASTQ files: Raw sequencing files, trimmed files, and files filtered from human reads.
3. PLINK BED files: Containing human variants.
4. URS relative abundances of 3594 representative gut microbes.
5. MetaPhlAn 4 relative abundances, separated by taxonomic levels.
    - The data browser displays the relative abundances of a subset of 300 bacterial species.

### Relevant links

- [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/13)



## FILE: datasets/014-human_genetics.ipynb

---
output-file: 014-human_genetics.html
title: Human Genetics
---

### Description 

The Human Phenotype Project collects genomic variation data on all its participants. The genomic data together with the Human Phenotype Project  deep-phenotypes allows to investigate the progression of disease, and to explore personalized treatments. We genotype millions of positions by low-pass sequencing combined with imputation using gencove platform technologies. Genotype imputation is a process of statistically inferring unobserved genotypes using known haplotypes in a population. The performance of Gencove genotype imputation is very high ( accuracy > 98% ) ([Wasik et al. 2021](https://link.springer.com/article/10.1186/s12864-021-07508-2?utm_campaign=2022.01%20Publications&utm_source=LP%20for%20Pharmacogenomics)). 

### Introduction

Genomic variation refers to DNA sequence differences between individuals. Some genetic variants can influence biological function (such as a mutation that causes a genetic disease), while others have no known effects. The genomic data together with the Human Phenotype Project rich variety of phenotypic data enables investigation of how genetics impact the progression of disease, and exploration of personalized prevention strategies and  treatments. 

The Human Phenotype Project uses low-pass sequencing combined with [imputation](https://en.wikipedia.org/wiki/Imputation_(genetics)) to obtain genomic variation, using [genocve](https://gencove.com) platform technologies. We do not target specific regions by sequencing, but rather sample the entire genome with low average depth of coverage, and impute the sequence data to the haplotype reference panel which includes a large set of known genetic variants. Briefly, the model approach is to identify haplotypes shared between a study sample and a reference panel based on the study sample observed genotypes. Next, the unobserved genotypes are extrapolated according to the large reference data as illustrated in Figure 1. Imputation is performed for single nucleotide polymorphisms (SNPs) and short insertion‚Äìdeletion variants (indels), structural variation are currently not included. The overall accuracy of gencove imputed genotypes is 98.22% (Wasik et al. 2021). We also validated the accuracy of the imputation using two hundred Human Phenotype Project participants from several ancestries which had both low-pass sequencing done and Illumina genotyping array data. We obtained high concordance rates, greater than 96%.

![study sample](014-human_genetics/study_sample.png)

Figure 1: taken from [Li et al. 2013](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2925172/).
Panel A illustrates the observed data which consists of genotypes at a modest number of genetic markers in each sample being studied and of detailed information on genotypes (or haplotypes) for a reference sample. Panel B illustrates the process of identifying regions of chromosomes shared between a study sample and individuals in the reference panel. In Panel C, observed genotypes and haplotype sharing information have been combined to fill in a series of unobserved genotypes in the study sample.*

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
#### Genotyping Procedure
DNA is collected from Human Phenotype Project participants using a buccal swab during their baseline visit. DNA is collected only once as germline DNA is considered constant. The buccal swabs are shipped to Gencove laboratories. The entire sequencing and genotyping workflow is performed by Gencove technologies. The Detailed information about the Gencove algorithms and quality control protocols are available in Wasik et al. 2021,  we briefly describe the key steps here.

Gencove‚Äôs workflow contains three steps: DNA extraction and library preparation, low-pass whole genome sequencing, and imputation analysis. Sequencing is performed at Neogen GeneSeek Laboratories using Illumina Novaseq at low-pass, targeting coverage levels of 0.5√ó and 1√ó. Whole-genome coverage is defined as the number of mapped DNA bases divided by the size of the genome (‚àº3 billion base pairs). We perform paired-end sequencing at length of 150-bp resulting in two FASTQ files (R1 and R2). Sequencing at paired-end mode significantly improves alignment to the genome. Next, the FASTQ files are aligned to the hs37-1kg reference genome, resulting in a BAM (Binary Alignment Map) file. In the sequence alignment procedure the DNA reads are mapped (in-pair) to the human genome reference sequence by similarity between the sequences. Lastly, loimpute-v0.1.0, Gencove‚Äôs imputation procedure, is used over the aligned reads. Imputation is done for the autosomal chromosomes (1-22) using The 1000 Genomes phase 3 haplotypes (1KGP3) as a reference panel, resulting in a VCF (Variant Call Format) file. The VCF contains the most likely genotype (GT) at 37,559,140 positions and their corresponding genotype probabilities (GP). Finally, Gencove employs quality control procedures to exclude samples with poor sequencing and genotyping results.

### Data availability 
<!-- for the example notebooks -->
The information is stored in a number of statistics parquet files:<br>
- `human_genetics.parquet`: sample metadata, including QC statistics, paths to PLINK variant files (raw and post-QC), and principal components (PCs).<br>
- `variants_qc.parquet`: variant QC statistics.<br>
- `relationship/relationship_ibs.txt`: IBS calculated by PLINK for pairs of participants.<br>
- `relationship/relationship_king.tsv`: King kinship coefficients for pairs of participants.<br>
- `pca/pca.parquet`: a PLINK file containing  principal components.<br>
- `pca/pca_loadings.tsv`: a PLINK file containing principal component loadings calculated.<br>

```{mermaid}
graph LR;
    D[DNA extraction] -->|sequencing| F(FASTQ) -->|alignment| B(BAM) -->|imputation| V(VCF)
    H[REFERENCE HAPLOTYPES] -->|imputation| V -->|"sample<br>aggregation"| R(BED<br>raw) -->|QC| Q(BED<br>post-qc)
    Q --> PCA(PCA)
    Q --> IBS(PLINK IBS<br>relationships)
    Q --> KING(KING<br>relationships)
```

### Summary of available data 
<!-- for the data browser -->
#### Raw DNA data
Pheno provides per each sample all of the raw sequencing and genotyping workflow data, including FASTQ, BAM, VCF, and QC files.

- FASTQ files are the sequencing machine outputs. They are text files that store the DNA sequences and their corresponding quality scores. We perform the sequencing at paired-end mode, meaning that each DNA molecule is sequenced from both sides, therefore there are two FASTQ files (R1 and R2).
- Binary Alignment Map (BAM) files are a binary and indexed representation of sequence alignment results. The BAM file stores the position of the DNA reads in the reference genome and the corresponding mapping quality. Indexing is provided in the bam.bai file, and allows to retrieve alignments that overlap a specific location quickly.
- Variant Call Format (VCF) file is a text file used for storing genetic variations. VCF consists of a header and a table. The header provides metadata describing the table fields and their values. The FILTER field holds a flag indicating whether the variant has failed or successfully passed filters. The raw genotype data includes all 37M positions regardless of their FILTER flag status. Genotypes are flagged as ‚ÄòLOWCONF‚Äô at the FILTER field if their maximum GP is less than 0.9, and otherwise flagged as ‚ÄòPASS‚Äô quality check. The following FORMAT fields are provided in the VCF - GT:RC:AC:GP:DS ([VCF specification](https://samtools.github.io/hts-specs/VCFv4.3.pdf)). Please note that the data is unphased.
- PLINK binary biallelic genotype file - In addition to the single sample VCFs we also provide the raw genotype data of all samples jointly in PLINK bed format. Because of the large number of variants, we split the data to chromosomes  (22 PLINK bed/bim/bam files). PLINK bed file is a compacted binary representation of genotypes at bi-allelic variants. It is accompanied by .bim and .fam files, which are the metadata files for variants and samples, respectively ([PLINK specification](https://www.cog-genomics.org/plink/1.9/formats#bed)).
- Gencove QC file - Gencove performs quality control to exclude samples with poor sequencing and genotyping results. Gencove‚Äôs quality control matrices are included in the sample metadata.

The raw genotype data includes 34,580,532 SNPs and 2,978,606 short indels, 37,494,604 of the variants are bi-alleleic and 30,990 are multi-allelic. Multi-allelic variants are represented in variant normalization format, meaning each alternate allele is listed in a separate line, in both the VCFs and PLINK.

Notably, we do not provide the raw data of samples who failed Gencove QC or for which we identify a possibility of DNA contamination or of mislabelling (i.e. DNA samples are associated with the wrong individual), as explained in section ‚ÄòSample evaluation‚Äô. 

#### Post-genotyping QC data
- We provide the QC genotyped data in PLINK format as explained above. The post-genotyping QC procedure resulted in genotypes for ~99.98% of total samples, and 5,770,633 variants that passed variant QC (~15.36% of the total variants). 
- In addition to the genotype data we provide auxiliary tabulated datasets such as : variants and sample QC metrics, principal component projection, and familial relationships estimates.

### Relevant links

- [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/14)



## FILE: datasets/015-ecg.ipynb

---
output-file: 015-ecg.html
title: ECG (Electrocardiogram)
---
### Description 

An electrocardiogram (ECG) is a simple test that can be used to check your heart's rhythm and electrical activity. Sensors attached to the skin are used to detect the electrical signals produced by the heart each time it beats.

### Introduction

Cardiovascular diseases are one of the leading causes of death worldwide. An ECG is the most representative and important non-invasive tool for diagnosing cardiac abnormalities. At every beat, the heart is depolarized to trigger its contraction. This electrical activity is transmitted throughout the body and can be picked up on the skin. An ECG machine records this activity via electrodes on the skin and displays it graphically.

An ECG is a graph of voltage with respect to time that reflects the electrical activities of cardiac muscle depolarization followed by repolarization during each heartbeat. The ECG graph of a normal beat consists of a sequence of waves, a P-wave representing the atrial depolarization process, a QRS complex denoting the ventricular depolarization process, and a T-wave representing the ventricular repolarization. Other portions of the signal include the PR, ST, and QT intervals. 

Commonly, 10 electrodes attached to the body are used to form 12 ECG leads, with each lead measuring a specific electrical potential difference. Electrodes combinations can measure the electrical potential difference between two corresponding locations of attachment. Such a pair forms a lead. The different leads are regularly divided into limb; augmented limb; and precordial or chest leads. The 12-lead ECG has a total of three limb leads (I, II, II) and three augmented limb leads (aVR, aVL, aVF) corresponding to a coronal plane (vertical), and six precordial leads or chest leads (V1-V6) that lie on the perpendicular transverse plane (horizontal).

A resting 12-lead ECG is recorded at each visit for participants. The record length is 10 seconds and the sample rate is 1000Hz. We collect both the raw waveform ECG signal from all leads and tabular data. The tabular data are features which have been extracted automatically by the machine from the raw data such as the P wave duration.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
A 10 second resting electrocardiogram (ECG) using a 12 Lead Norav ECG machine is done for each participant. The equipment used includes an electrode belt, limb crocodile clips, a 12 Lead Norav ECG machine, and a device cart and computer. 

The device settings include a sample rate of 1000Hz, a minimum test time of 10 seconds, and various filters such as an AC noise filter, EMG filter, and a baseline filter. The protocol involves turning on the computer and entering the "resting ECG" software, verifying the participant's identity, and attaching the electrode belt and limb crocodile clips to the participant's chest. The figure below shows the software system used to record the ECG.

The participant is instructed to take normal deep breaths and to remain still during the 10 second recording. The ECG is then interpreted and, if necessary, the test can be repeated.

![ecg info](015-ecg/ecg_info.png)

### Data availability 
<!-- for the example notebooks -->
The information is stored in 2 tabular parquet files: `ecg.parquet`, `ecg_qc.parquet`, which contain tabular features and QC checks on the raw ECG waveform data. Mutiple time series parquet files contain the raw and processed ECG waveform data

### Summary of available data 
<!-- for the data browser -->
1. Raw waveform signal: a data frame for each participant containing the raw ECG signal from the 12 different leads.
2. Processed waveform signal: a data frame for each participant containing the processed ECG signal from the 12 different leads using the NeuroKit python package.
3. Tabular features: a data frame containing ECG related features extracted automatically by the machine.
4. PDF showing the ECG machine's output.

### Relevant links

- [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/15)


## FILE: datasets/016-blood_tests.ipynb

---
output-file: 016-blood_tests.html
title: Blood Tests
---
### Description 

The lab tests in this dataset of the Human Phenotype Project are based on tests performed to participants in the community as part of their regular medical care at their HMO (Health Maintenance Organization). Participants are asked to upload their blood/urine tests done at their HMOs from previous years. These tests range from the very common CBC and chemistry tests, vitamins levels and other laboratory tests.

### Introduction 

Laboratory (Lab) tests are often used in health care to determine physiological and biochemical states, such as disease, mineral content, pharmaceutical drug effectiveness, and organ function. The lab tests in this data set of the Human Phenotype Project are based on tests performed to participants in the community as part of their regular medical care at their HMO.
Following registration and follow-up calls or visits the participants receive an email asking for and providing instructions on how to upload their lab test results. The participants are provided with a list of recommended tests to upload (specified in the list below) and the recommended time window for some tests (last 3 months or from the previous one year).  Each participant uploads blood tests that were done throughout the years with their HMO. Upon upload, the file is analyzed based on its format, and all readable tests that can be extracted are uploaded to a PostgreSQL database. 

Note that this data is created by the users own volition and the tests are done independent of their visits to the clinical testing  center (CTC). 

#### List of recommended tests for upload:

##### Tests recommended from previous year:
HbA1C%, tota cholesterol, HDL, LDL, Triglycerides.
##### Tests recommended from the last 3 months:
Creatinine, Glucose, CBC (WBC, RBC, Hemoglobin, Hematocrite, Platelets, MCV, MCH, MCHC, RDW, Mean Platelet Volume, Neutrophils%, Lymphocytes%, Monocytes%, Eosinophils%, Basophils%)
##### Tests without time  recommendation:
TSH, CRP, Albumin, Total Protein, Bilirubin, AST-GOT, ALT-GPT, GGT, Alkaline phosphatase, Sodium, Potassium, Chloride, Calcium, Phosphor, Uric acid, B12, Vitamin D, Folic acid and Ferritin.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
Every blood/urine test has its own measurement protocol.
* Some blood tests require the participant itself to act differently prior to the test - whether it‚Äôs fasting, drinking concentrated glucose/lactose, sampling urine etc.
* The technician has also a large part of the test, by selecting relevant buffers for every one of the tests and have it‚Äôs own complete protocol per test.
* And the lab - each HMO would have their own storing protocols, measuring with different machines with different sensitivity thresholds and their own standards (usually aligned between different HMO, but not necessarily).

### Data availability 
<!-- for the example notebooks -->
The information is stored in 1 parquet file `blood_tests.parquet`.

### Summary of available data 
<!-- for the data browser -->
All the participant provided blood tests are stored in a single .parquet file. Each row depicts a single test done (either blood or urine) for an individual. It consists of the test‚Äôs name, unit, date and value (split into 2 columns - continuous and categorical) with some extra metadata columns.

The duplicate value columns are an artifact of some tests having both float variables and notes from the HMOs instead of continuous values. We represent these notes as categorical values such as ‚Äúvalue under detectable threshold‚Äù or ‚Äútoxic levels‚Äù etc (e.g. urine microalbumin mostly contains float values, but it can also have ‚Äúthreshold under 3mg/l‚Äù in the categorical column). These notes are not values per-se, and replacing them with continuous values is not straightforward but they should be considered nonetheless.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/16)



## FILE: datasets/017-cgm.ipynb

---
output-file: 017-cgm.html
title: CGM (Continuous Glucose Monitoring)
---
### Description 

Continuous Glucose Monitoring (CGM) measures glucose levels in a continuous manner. This measure provides information on blood glucose control and glucose variability and could be used to monitor patients with diabetes.

### Introduction

In healthy individuals, insulin secretion from the pancreas is responsible for maintaining normal blood glucose levels. Insulin resistance, the main cause of type-2 diabetes and a key aspect in several other metabolic disorders, occurs when the sensitivity to insulin is impaired leading to reduced insulin mediated glucose disposal. Measuring insulin levels is complex and requires special laboratory tests, while glucose levels are measured by simple blood tests. 

Although measuring blood glucose levels using a blood test is simple and inexpensive, a single measure of blood glucose will not contain information on glucose variability, and might not be accurate in certain conditions. 

CGM provides continuous measures of the glucose levels in the interstitial fluid, through a tiny electrochemical sensor electrode inserted under the skin. The continuous measures obtained with CGM present a tool to overcome the limitations of a single measure of blood glucose through blood tests, by providing real time information of glucose levels, rate of change, variability and impending hypo- and hyper- glycemia events.

Currently approved CGM devices use an enzymatic technology which reacts with glucose molecules in the interstitial fluid generating an electric current. This current is proportional to glucose concentration in the blood, thus providing information of blood glucose levels in a continuous manner.

Coupled with nutritional and behavioral information, data collected from the CGM could be used in research to better understand mechanisms of glucose response and control, and how these changes in different individuals, lifestyle choices and phenotypes.

The Human Phenotype Project (HPP) collects CGM data on each participant, to produce blood glucose measures every 15 minutes, for a total connection period of two weeks. Summary statistics are calculated for each CGM connection using the [iglu package](https://github.com/irinagain/iglu) ([Broll et al., 2021](https://doi.org/10.1371/journal.pone.0248560)), providing varying summary measures of glucose control and variability. 

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
FreeStyle Libre ProIQ Flash device (see figure below) is used for continuous glucose monitoring for a 2-week period in the baseline visit only. During this time participants are also required to log information about food, medications, physical activity and sleep hours using the HPP application.
During the baseline visit the sensor is placed on the participant‚Äôs upper arm back.

The figure illustrates the connection procedure of the device. Once attached the device is also activated. It is explained to the participant that in case of MRI the sensor should be removed before the scan, and that it is not possible to dive with the device deeper than one meter. The participant is requested to remove the device independently at the end of the 2-week period and send it back to the clinic.  

![CGM](cgm_device.jpeg)

### Data availability 
<!-- for the example notebooks -->
The metadata and summary features are stored in 3 main statistics parquet files: `cgm.parquet`, `iglu.parquet`, `iglu_daily.parquet` (Computed using the iglu package).

### Summary of available data 
<!-- for the data browser -->
1. Temporal data: A data frame of temporal glucose measures, along with time of measurement.  
2. Computed summary features: data frame containing, for each CGM connection, extracted features (computed using the iglu package) from the full CGM temporal data.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/17)



## FILE: datasets/018-medications.ipynb

---
output-file: 018-medications.html
title: Medications
---
### Description 

The Human Phenotype Project medications dataset is based on self-reported, participant-provided information. Self-reported medications are coded to Anatomical Therapeutic Chemical (ATC) codes from the WHO Collaborating Centre for Drug Statistics Methodology. The ATC classification system is the gold standard for international drug utilization monitoring and research. 

### Introduction

Medication usage reporting in medical research and longitudinal cohort studies is essential for understanding drug effectiveness, safety, and biological interactions. Medication usage data helps researchers understand how different medications affect diverse populations and organ systems based on genetics, environment, lifestyle, and medical history. For example, an individual's microbiome composition can influence drug metabolism and absorption, while the drugs themselves can alter microbiome populations. Drug-drug interactions represent another critical factor that can affect treatment efficacy.

Multiple methods exist for collecting medication usage data in research studies, including self-report, medical records, pill counts, and electronic monitoring. Self-report involves participants directly reporting their medication use to researchers. Accurate and complete medication data is essential for understanding the true impact of pharmaceuticals on individual health.

The Human Phenotype Project collects medication information through self-reporting via online and smartphone applications, as well as through staff-administered questionnaires during telephone or in-person follow-up visits. 

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
Medication data is collected from multiple sources throughout the study:

1. **Registration:** During study enrollment, participants report their regular medications online by selecting from a predefined drop-down list with autofill functionality. Medications that meet exclusion criteria trigger automatic questionnaire termination with an appropriate message.

2. **Mobile application logging:** Participants can log medications and consumption times using a dedicated mobile application. Participants are requested to log medications during the two-week periods following each visit.

3. **Follow-up visits and calls:** During follow-up interactions at the clinical testing center or via telephone, participants report any new medications started or stopped, including the month and year of each change. Study staff members record this information using a predefined drop-down list. If a specific medication cannot be found in the list, staff can either log it through the mobile application or use a free-text entry option. 

### Data availability 
<!-- for the example notebooks -->
Medication data is collected from three sources:
- Registration medications: Reported during study sign-up via online questionnaire with autofill functionality
- Follow-up medications: Updates provided during follow-up calls or visits to the clinical testing center
- Application logging: Real-time medication logging through the mobile application

All medication data from these sources is stored in 1 parquet file: `medications.parquet`

### Summary of available data 
<!-- for the data browser -->
The medications dataset includes comprehensive information about participants' medication usage from multiple sources:

1. **Medications at baseline:** Medications that participants were taking at the time of enrollment or baseline visit
2. **Medication changes during follow-up:** New medications started or stopped during longitudinal follow-up
3. **App-logged medications:** Real-time medication logging through the mobile application during the two-week periods following visits
4. **ATC coding:** Many medications are coded using the Anatomical Therapeutic Chemical (ATC) classification system for standardized analysis

The data includes medication names, start and stop dates (month and year), and the source of information (registration, follow-up visit/call, or app logging). This comprehensive medication tracking enables research into drug-disease associations, polypharmacy patterns, and medication adherence over time.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/18)



## FILE: datasets/019-cbc.ipynb

---
output-file: 019-cbc.html
title: Complete Blood Count (CBC)
---

### Description

A CBC (complete blood count) test is a common blood test that measures the number and size of different blood cells in a sample of blood. It can be used to diagnose a wide range of medical conditions, such as anemia, infection, and leukemia, as well as to monitor the body's response to treatment. A CBC test can also indicate overall health status, helping to detect certain medical conditions before they manifest clinically.

### Introduction

The DxH 560 is a quantitative, multi-parameter, automated hematology analyzer used for complete blood count (CBC). It is widely used in clinical settings for the analysis of various components of blood, such as red blood cells, white blood cells, and platelets. The DxH 560 machine provides a fast, reliable and accurate way of measuring the different cell types and analytes in the blood sample. 

In the clinical setting, CBC can be used in a variety of ways. For example, changes in the white blood cell count can indicate an infection or inflammation, while changes in the red blood cell count can indicate anemia or other blood disorders. Additionally, this machine can be used to measure platelet count and hemoglobin level, which could indicate bleeding, clotting or hematologic issues. The CBC data can also be used to monitor treatment efficacy in conditions such as leukemia, where changes in cell counts can be used to track the progression of the disease. Furthermore, this data can be used in preventative screenings and routine check-ups to keep track of a patient's health status. Overall, the data collected by the DxH 560 provides a comprehensive picture of a patient's blood cell profile, which is an essential tool for diagnosis, treatment, and monitoring of various medical conditions.

The Human Phenotype Project includes collection of blood samples for CBC during every visit to the testing center including baseline and follow up visits. Blood is collected in non-fasting condition.

**Manufacturer reference study:**

A reference interval study was conducted to assess the reference intervals for the DxH 560. Whole blood samples were collected from at least 240 healthy adult donors aged 22 to 65 years (males and females). Reference intervals were verified for males and females up to 65 years of age.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->

The blood is drawn from the arm vein (venous blood). The usual place for a sample to be taken is the inside of the elbow or wrist (antecubital fossa), where the veins are relatively close to the surface.

**Collection Details:**
- A total of approximately 16 ml of blood is collected in 3 tubes of which CBC is 3 ml
- Fasting is not required for this blood test
- CBC and PBMC tubes are kept at room temperature until processing (up to 2 hours)
- CBC is collected in EDTA tubes (purple top) 
- At the end of the shift, all the samples are taken to be processed by the DxH 560 machine


### Data availability 
<!-- for the example notebooks -->

The CBC blood tests consist of 21 tests comprising of both red blood cells and white blood cells statistics outputed by the DxH560 machine.

The tests are described in the CBC blood tests data dictionary.

**Quality Control:**

Each day, the machine undergoes a validation process including 3 control samples denoted by low, normal and high. If the results are consistent (up to some acceptable variance) with their known values, the testing continues for the day. Their data is available for download, but it's not a streamlined process yet.

### Summary of available data 
<!-- for the data browser -->

The CBC blood tests consist of 21 tests comprising of both red blood cells and white blood cells statistics outputed by the DxH560 machine. These measurements provide comprehensive information about:

- **Red blood cell parameters:** Count, hemoglobin levels, hematocrit, and various red blood cell indices
- **White blood cell parameters:** Total count and differential counts of various white blood cell types
- **Platelet parameters:** Count and related metrics

The data is collected at every visit to the testing center, including baseline and follow-up visits, providing longitudinal tracking of blood cell profiles over time.



## FILE: datasets/021-medical_conditions.ipynb

---
output-file: 021-medical_conditions.html
title: Medical Conditions
---
### Description 

A medical conditions dataset is a collection of information about various health-related issues experienced by people. This data can include symptoms, diagnoses, treatments, and outcomes for different diseases and conditions. The dataset is gathered using various methods, or "modalities," such as electronic health records, surveys, wearable devices, and medical imaging. The purpose of collecting and analyzing this information is to better understand health trends, identify risk factors, and improve medical care for everyone.

### Introduction

Medical diagnosis in research studies plays a crucial role in the understanding and advancement of medicine. In clinical research, the process of diagnosis is used to identify individuals with specific medical conditions and to determine the prevalence of these conditions within a study population. Diagnosis is also used to identify subgroups of individuals with similar characteristics or outcomes, which can help researchers to better understand the underlying disease mechanisms and to develop risk models, identify biomarkers for early detection of the disease and for monitoring its progress and to develop  new treatments.

Survey data is a valuable resource for understanding various aspects of medical conditions. It involves collecting self-reported information from individuals about their health, symptoms, diagnoses, treatments, and lifestyle factors. This data is tabular, meaning it is organized in rows and columns, which makes it easy to analyze and compare.

Medical conditions data collected through surveys covers diverse body systems, such as the cardiovascular, respiratory, digestive, and nervous systems. It provides insights into disease prevalence, risk factors, and the impact on individuals' lives.

Surveys are an attractive data modality due to their accessibility, cost-effectiveness, and ability to capture patient perspectives. This information helps researchers identify potential risk factors, inform prevention strategies, and shape public health policies, ultimately contributing to better health outcomes for diverse populations.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
Upon registration to the Human Phenotype Project study, participants provide details about their medical conditions in the Initial Medical Survey. Further data is then gathered during an interview at the baseline visit (In-system drop down) and using the Follow-up Medical Survey when participants return for subsequent visits. The data source columns indicate where information was collected.

Questions and self-reported medical diagnoses were mapped to ICD-11 codes. Medical diagnoses at baseline were determined as diagnoses that were reported at the baseline visit or with an onset date prior to the baseline visit.

#### Baseline
*  Participants fill in medical conditions history in the Initial Medical Survey.
*  Interviewer asks participant question and fill in a drop down list of different conditions participants have (In-system drop down).

#### Every follow up visit/ call and baseline
* Follow-up Medical Survey -
    * Medical questionnaire asks about conditions.
    * Should fill in the date when new condition was founded .

### Data availability 
<!-- for the example notebooks -->
The information is stored in 1 parquet file: `medical_conditions.parquet` 

### Summary of available data 
<!-- for the data browser -->
1. Medical conditions of participants at various research stages.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/21)



## FILE: datasets/022-bone_density.ipynb

---
output-file: 022-bone_density.html
title: Bone Density
---
### Description 

Bone density was profiled based on DXA imaging, and includes measurements of mineral content in different parts of a variety of skeletal components.

### Introduction

DXA (dual-energy x-ray absorptiometry) imaging is a method used to measure bone density and mineral content. A DXA scan uses a low dose of ionizing radiation to produce a detailed image of the body, specifically the bones. The scan is then analyzed by a software to determine the bone mineral density (BMD) and bone mineral content (BMC) in different parts of the body. This method is considered to be one of the most accurate methods for measuring bone density, as it is able to provide detailed information about the distribution of bone mineral content in different bony structures of the body skeleton. The spine and hip are most commonly measured because that is where most osteoporotic fractures occur. DXA imaging is commonly used for assessing the risk of osteoporosis, a condition characterized by low bone density and increased risk of fractures, and for monitoring the effects of treatments for the condition.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
Dual-energy X-ray Absorptiometry (DXA) was performed with the GE Lunar Prodigy Advance device (GE Healthcare, USA) and the GE CoreScan and OneScan software applications. Before the scan, participants were asked to remove all metal items, heavy clothing and shoes. Bone mineral density was measured from the Femur necks, bilaterally and from the spine vertebra L1-L4. The Spine and femur imaging was performed with the OneScan, which performs an anterior posterior (AP) Spine and the dual femur exam without repositioning between scans. Participants were placed on the scanner bed with legs internally rotated and secured using a foot brace. 
The AP Spine measurement and analysis provides an estimate of bone mineral density for the lumbar spine while the Dual Femur measurement measures the density in the proximal femurs (femur neck). These values can then be compared to reference populations providing Z-scores that are matched for age, sex and ethnicity; and T-scores which indicate how many standard deviations a patient's value is from the mean value of a healthy Young Adult reference population (NHANES).  

![DXA](dxa_machine.jpeg)

### Data availability 
<!-- for the example notebooks -->
The information is stored in 1 parquet file: `bone_density.parquet`

### Summary of available data 
<!-- for the data browser -->
1. **Bone mineral density (BMD) and content measurements:**
   - Lumbar spine (L1-L4 vertebrae)
   - Bilateral femur necks (left and right proximal femurs)
   - Regional bone mineral content across different skeletal components
2. **Normalized scores:**
   - T-scores: Comparison to healthy young adult reference population (NHANES)
   - Z-scores: Age, sex, and ethnicity-matched comparisons
3. **Imaging files:**
   - DXA image files (e.g., spine and femur BMD images)
   - DXA image DICOM files

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/22)



## FILE: datasets/024-rna_seq.ipynb

---
output-file: 024-rna_seq.html
title: RNA Sequencing
---

### Description 

The RNA-Seq dataset includes bulk gene expression profiles measured in human peripheral blood mononuclear cells (PBMC) cells, sampled at each visit to the clinical testing center.

### Introduction 
<!-- just for RNA-Seq: shortened from the original introduction in the data doc -->
RNA sequencing (RNA-Seq) is a powerful high-throughput technique used to analyze the transcriptome, providing a snapshot of RNA presence and quantity in a biological sample at a given moment. Our bulk approach sequences RNA from a mixed population of cells, giving a cumulative overview of gene expression across the sample. It's widely used for understanding complex biological processes and disease mechanisms.

This RNA-Seq dataset focuses on gene expression profiles in human peripheral blood mononuclear cells (PBMC), collected during patient visits to a clinical testing center. The aim is to uncover the gene expression dynamics in PBMCs under various clinical conditions. PBMCs, which include lymphocytes and monocytes, play a key role in the immune response. The gene expression patterns in these cells can provide valuable insights into immune system activities and pathophysiological states.

The dataset was generated using 3‚Äô-tagged bulk RNA sequencing technology, capturing a broad spectrum of gene expression in PBMCs from diverse clinical samples. This protocol was adapted from the mcSCRB-seq protocol  ([Bagnoli et al.](https://www.nature.com/articles/s41467-018-05347-6)). This method incorporates unique molecular identifiers (UMIs), sample multiplexing (Figure 1). UMIs are crucial for accurately quantifying transcript abundance, as they enable the differentiation of PCR duplicates from unique mRNA molecules. Pool barcodes facilitate multiplexing of several samples in a single sequencing run, enhancing throughput efficiency. Sample barcodes are used to track individual samples, ensuring precise sample identification.

The dataset is instrumental for research in immunology and systemic diseases, offering a unique perspective on how PBMC gene expression varies in different clinical scenarios. It serves as a critical resource for understanding immune responses and developing therapeutic strategies.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
#### Sample Collection and Storage
Peripheral blood mononuclear cells (PBMCs) were collected from human participants following established standard operating procedures. Blood samples were drawn at the Clinical Testing Center (CTC), with three tubes per participant (Complete Blood Count (CBC), serum, and PBMC isolation). The PBMC samples were processed within 2 hours of collection, where centrifugation was performed to separate the mononuclear layer.

After isolation, PBMCs were aliquoted into three tubes per sample. For the purpose of RNA sequencing, one aliquot was stored at -80¬∞C, preserving RNA integrity for downstream analysis. The viability and concentration of PBMCs were assessed using an automated cell counter, ensuring a high quality of the isolated cells for downstream processing.

#### RNA Extraction and Library Preparation
RNA was extracted from the PBMC samples using a standard protocol. During reverse transcription, Unique Molecular Identifiers (UMIs), sample barcodes, PCR primers, and ERCC spike-ins were added to each sample. The ERCC spike-ins serve as external controls for quantifying and normalizing gene expression data, ensuring accurate transcript measurements.

After reverse transcription, the cDNA was subject to initial amplification to increase the quantity of material available for library preparation. A cutting enzyme (TDE1, or Nextera transposase prior to May 2023) was then introduced to fragment the cDNA and add sequencing adaptors through tagmentation.

Following fragmentation, samples were pooled, and a final round of PCR amplification was performed to complete the library, preparing it for sequencing.

#### Sequencing
The prepared RNA libraries were sequenced on the Illumina NovaSeq platform with an average read depth of 5 million reads per sample. Read 1 (R1) is 20 base pairs (bp) long (after removing the sample barcode) and contains the UMI and poly-T tail. Read 2 (R2) is 66bp long and contains the cDNA and possibly poly-A tail. PhiX control libraries were spiked into the sequencing runs to enhance sequence diversity. The sequencing generated high-quality 3' RNA-seq data, suitable for downstream bioinformatic analysis.

![library structure](024-rna_seq/library_structure.png)

Figure 1: library structure

### Data availability 
<!-- for the example notebooks -->
- All tabular information is stored in a main parquet file: `rna_seq.parquet`
- Read counts are stored in long-format parquet files per batch
- Each sequencing batch includes metadata parquet, JSON and HTML files

```{mermaid}
flowchart LR;

S[sequencing] -->|bcl2fastq<br>fastq-multx| raw(raw FASTQ) -->|umi-tools<br>cutadapt| trimmed(trimmed FASTQ) -->|STAR| aligned(aligned BAM) -->|umi-tools| deduplicated(deduplicated BAM) -->|htseq| counts(counts)

raw --> metadata(metadata)
trimmed --> metadata
aligned --> metadata
deduplicated --> metadata
counts --> metadata
```

### Summary of available data 
<!-- for the data browser -->
- Metadata: statistics from the library preparation, QC metrics, ERCC spike-ins stats, and all processing steps of each sample, and each batch. The metadata also includes MultiQC HTML reports.
- Counts: raw matrices of read counts (in long, sparse format) within annotated transcripts, and for ERCC spike-ins.
- FASTQ: raw, and trimmed.
- BAM: aligned to genome, and after UMI deduplication.
- Reference: accessions and coordinates of the annotated transcripts.

### Relevant links

- [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/24)



## FILE: datasets/027-voice.ipynb

---
output-file: 027-voice.html
title: Voice Recording
---

### Description

Voice recordings of participants counting to thirty, captured in lossless audio format to enable vocal biomarker analysis.

### Introduction 
<!-- shortened introduction with clinical context -->

Voice data is increasingly being used in clinical research and personalized medicine. Vocal biomarkers can be used for disease diagnosis (e.g., Parkinson's, Alzheimer's), mental health assessment, and monitoring respiratory conditions. Voice features such as pitch, tone, and speech patterns can provide non-invasive, cost-effective insights into a person's health status and disease progression.

A **vocal biomarker** is a signature or feature from the audio signal of the voice that is associated with a clinical outcome and can be used to monitor patients, diagnose conditions, or assess disease severity. Work on vocal biomarkers has mainly been performed in neurodegenerative disorders (particularly Parkinson's disease, where voice disorders occur in 70-80% of cases), mental health conditions, multiple sclerosis, Alzheimer's disease and mild cognitive impairment, cardiometabolic diseases, and respiratory conditions including COVID-19.

Voice features extracted from audio recordings include:

- **Fundamental frequency (F0)**: Captures pitch and vocal fold vibration patterns
- **Formants (F1-F3)**: Reflects vocal tract configuration and articulation precision
- **Harmonics-to-Noise Ratio (HNR)**: Quantifies voice quality, breathiness, and roughness
- **Jitter and Shimmer**: Measures cycle-to-cycle variation in pitch and amplitude
- **MFCCs**: Compact spectral descriptors aligned with human auditory perception
- **Prosody features**: Speech rate, intensity, and intonation patterns

### Measurement protocol 
<!-- long measurment protocol for the data browser -->

Participants provide a 30-second voice recording by counting to thirty in their native language (primarily Hebrew, with a subset in Japanese). Recordings are captured in a quiet, controlled clinical setting.

**Recording setup:**
- **Device**: Cardioid dynamic USB/XLR microphone
- **Software**: Audacity (open-source audio recording/editing software)
- **Format**: Lossless `.flac` format (preserves full audio fidelity)
- **Duration**: ~30 seconds (counting 1-30)
- **Environment**: Quiet, controlled clinical setting
- **Distance**: Microphone positioned 15-30 cm from participant's mouth
- **Accessories**: Desktop mic stand, pop filter

**Technical specifications:**
- Sampling rate: 44.1 kHz (default), supports up to 48 kHz
- Bit depth: 16-bit / 24-bit
- Frequency response: 50 Hz ‚Äì 15 kHz
- Polar pattern: Cardioid (unidirectional)

### Data availability 
<!-- for the example notebooks -->

The information is stored as individual audio files in `.flac` format (lossless compression), with associated participant metadata in `.csv` files. Each recording is approximately 30 seconds in duration.

### Summary of available data 
<!-- for the data browser -->

The data comprises of multiple levels:

1. **Raw audio files**: Lossless `.flac` audio recordings of participants counting to thirty in their native language

2. **Extracted features**: Traditional signal processing features (F0, formants, jitter, shimmer, MFCCs) and deep learning-based embeddings for vocal biomarker research



## FILE: datasets/028-olink_proteomics.ipynb

# Olink Proteomics

### Description

The HPP Olink dataset contains relative protein expression profiles for thousands of proteins measured in plasma from HPP participants, using Olink Reveal, an NGS‚Äëbased Proximity Extension Assay (PEA) platform. Each assay uses pairs of antibodies coupled to DNA oligos: when both antibodies bind the same protein, their oligos come into proximity, are extended, PCR‚Äëamplified, and quantified via Illumina sequencing ([Multiplex high-throughput proteomics with exceptional analytical specificity |  illumina in collaboration with Olink](https://www.illumina.com/content/dam/illumina/gcs/assembled-assets/marketing-literature/olink-proteomics-tech-note-m-us-00196/olink-proteomics-tech-note-m-us-00196.pdf), [Wik, Lotta, et al, 2021](https://www.sciencedirect.com/science/article/pii/S1535947621001407)).

The primary quantitative output is **NPX (Normalized Protein eXpression)**, a log‚ÇÇ‚Äëscaled, normalized value per protein, per sample. NPX is relative, not absolute concentration; within an assay, differences in NPX can be treated as relative fold changes (ŒîNPX ‚âà log‚ÇÇ fold change).

### Introduction

The Human Phenotype Project (HPP) aims to deeply characterize participants using multi‚Äëomics, imaging, physiology, and longitudinal follow‚Äëup. Proteins are proximal effectors of genes and often more closely related to disease biology than the genome alone; high‚Äëplex proteomics adds dynamic information about inflammation, metabolism, tissue damage and signaling.

Olink Reveal was chosen as the first large‚Äëscale proteomics platform for HPP because it:
- Provides >1,000 proteins per sample from small volumes of plasma ([Olink data normalization white paper | Olink](https://7074596.fs1.hubspotusercontent-na1.net/hubfs/7074596/05-white%20paper%20for%20website/1096-olink-data-normalization-white-paper.pdf)). 
- Has a robust QC and normalization framework (internal/external controls, NPX, inter‚Äëplate normalization).
- Integrates naturally with Illumina NGS, allowing alignment with existing infrastructure and expertise.


### Measurement protocol 

#### Lab equipment
**Sample prep:** Automated pipetting using Tecan robots.

**Sequencing:** Illumina NovaSeq 6000, generating paired‚Äëend NGS reads that encode PEA probe counts per assay.

#### Controls and plate layout
Per the HPP Olink design and Olink recommendations:
- **Internal controls (spiked into each sample)**  designed to monitor the three main steps of the Olink protocol: Immunoreaction, extension, and amplification/detection (Figure 1).
    * Incubation Control 1 & 2: monitor overall reaction / matrix effects.
    * Extension Control: monitors extension + amplification/detection, used for within‚Äësample normalization.
    * Detection Control: monitors amplification/detection only.
- **External controls (dedicated wells per plate, Figure 2)**
    * Inter‚ÄëPlate Controls (IPC, triplicates): synthetic high‚Äësignal samples used for inter‚Äëplate normalization.
    * Negative Controls (triplicates): buffer only; used to monitor background and define LOD.
    * Sample controls (pooled plasma, duplicates): monitor intra‚Äë/inter‚Äëassay CV across plates.
- **Randomization**
    * Within each batch, samples are balanced and randomized for age, sex, and other key HPP covariates, so that plate medians are comparable and intensity normalization remains valid.

![olink internal controls](028-olink_proteomics/olink_internal_controls.png)

![olink external controls](028-olink_proteomics/olink_external_controls.png)

#### Technology & NPX scale

##### Olink Reveal platform

- Reveal is an NGS‚Äëbased proteomics solution built on Olink‚Äôs PEA technology, measuring ~1,000 proteins per sample from ~4‚Äì25 ŒºL plasma/serum ([Olink Reveal: Revolutionizing High-Throughput Proteomics | Protavio Team](https://protavio.com/news-olink-reveal/)).
- Panels are curated to cover cardiometabolic, inflammatory, neurology, oncology and other key pathways with broad proteome coverage.

##### NPX computation (conceptual)
For qPCR‚Äëbased Olink platforms, NPX is derived from Ct values using:
1. Extension control normalization (ŒîCt vs extension control).
2. IPC normalization (ŒîŒîCt vs IPC).
3. Panel‚Äëspecific correction factor to orient the scale so that higher NPX = higher protein abundance and background ‚âà 0.

For NGS‚Äëbased platforms (Reveal/Explore), the exact calculations differ, but NPX retains the same conceptual properties:
1. Log‚ÇÇ‚Äëlike unit, relative per assay.
2. Roughly: ŒîNPX = 1 ‚Üí ~2√ó fold change ([What Does the Olink NPX Value Represent? Guidelines for Accurate Interpretation of Protein Expression Data | MtoZ Biolabs Services](https://www.mtoz-biolabs.com/what-does-the-olink-npx-value-represent-guidelines-for-accurate-interpretation-of-protein-expression-data.html))

**Interpretation guidelines**
- Compare NPX within the same assay (e.g., IL‚Äë6 across individuals or timepoints), not across different proteins.
- Cross‚Äërun / cross‚Äëplate comparisons are valid after the specified normalization steps (IPC/intensity + any bridge normalization).


### Data availability 
<!-- for the example notebooks -->
- **Raw NGS output (Illumina BCL)**
    * One BCL directory per sequencing run.
- **BCL detection & validation (Dagster)**
    * Auto‚Äëdetect runs under /day2data/illumina/.
    * Validate BCL structure, presence of RunInfo, sample sheet, and Olink recipe files.
- **BCL ‚Üí counts (ngs2counts, Olink propraietary SW)**
    * Run in Docker; outputs assay‚Äëlevel count matrices per run/plate.
- **Counts ‚Üí NPX (npx_map_cli, Olink propraietary SW)**
    * Vendor npx_map_cli tool converts counts + plate metadata into NPX tables, with vendor QC flags and internal/external control information.
- **Pheno QC pipeline**
    * Apply sample/assay QC filters.
    * Remove failed run and per‚Äërun assay QC warnings.
    * PCA + median‚ÄìIQR outlier detection.
    * IntraCV/interCV‚Äëbased filtering of noisy assays.
    * Bridge normalization for outlier run(s)
    * LOD analysis and % below LOD summaries.
- **Final dataset assembly** - temporary location: `s3://datasets-development/olink/dataset/` in the DS account
    * Long‚Äëformat NPX tables with all QC columns + LOD (`5_olink_npx_data_lod_added.parquet`)
    * External controls with all QC columns (no LOD) (`4_olink_npx_controls_cv_qc.parquet`)
    * LOD per assay (protein) information (`5_olink_lod_per_assay.parquet`)
- **Research stage filling** - temporary location: `s3://ds-users/anat/olink_eda/`
    * `olink_npx_events_filled_multiindex.parquet` - dataset after filling missing research stages and adding PhenoLoader-compatible multi-index (`['participant_id', 'cohort', 'research_stage', 'array_index']`)



## FILE: datasets/029-nightingale_metabolomics.ipynb

---
output-file: 029-nightingale_metabolomics.html
title: Nightingale Metabolomics
---
### Description 

The dataset, derived from Nightingale Health's metabolic profiling of blood serum samples, presents an extensive array of metabolites, encapsulating lipids, fatty acids, amino acids, and various low-molecular-weight metabolites. Utilizing innovative Nuclear Magnetic Resonance (NMR) technology, the dataset unveils a spectrum of 250 biomarkers, 39 of which are clinically validated, offering a profound insight into the metabolic mechanisms underlying health and disease.

### Introduction

Nightingale Health is a global health-tech company that is changing healthcare with its advanced blood testing technology, employing its proprietary Nuclear Magnetic Resonance (NMR). The biomarker panel provided by Nightingale encompasses a total of 250 biomarkers, of which 39 have been clinically validated. These biomarkers span across various categories including lipoprotein lipids, fatty acids, and small molecules such as amino acids and ketones, thereby offering a rich tapestry of metabolic insights.
The dataset generated from the metabolic profiling of our blood serum samples allows for an in-depth exploration into the metabolic foundations of both health and disease.
The data captures a wide spectrum of metabolites including lipids, fatty acids, amino acids, and other low-molecular-weight metabolites, all rendered through Nightingale's advanced NMR technology. 

This dataset serves as a valuable resource for:
1. Identifying Metabolic Signatures: Unveiling unique metabolic patterns linked with various health conditions.
2. Predictive Modeling: Building predictive models for early disease detection and prognosis.
3. Nutritional Analysis: Evaluating the influence of nutrition on metabolic profiles.
4. Drug Response Analysis: Understanding the metabolic responses to drug treatments.

Furthermore, the dataset holds promise for multi-omic analyses when combined with genomic, transcriptomic, etc. thus presenting a holistic view of the biological and metabolic landscape. The comprehensive nature of this dataset, coupled with the innovative technology from Nightingale, provides a valuable resource for propelling research and clinical applications aimed at ameliorating health outcomes.

The Nightingale NMR platform stands out from other metabolomics techniques such as mass spectrometry, due to its minimal batch effects, low requisites for expensive reagents, and high throughput at a relatively lower cost. NMR spectroscopy, grounded in the interaction of externally applied radiofrequency radiation with atomic nuclei, facilitates the quantification of over 200 biomarkers in absolute units from a single blood sample. The absolute concentrations of metabolite levels provided are calibrated against global standards, making the results easily comparable to other studies and traditional clinical chemistry methods.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
After collecting blood samples from participants during clinic visits, the blood samples are immediately placed in tubes and processed to separate the serum. These serum samples are then stored in plates and kept in the freezer to maintain their integrity until shipment.
Upon arrival at Nightingale Health's laboratories, the serum samples are once again frozen. When ready for analysis, the samples are thawed and undergo a series of preparatory steps.
Firstly, the samples are subjected to centrifugation, which helps to remove any remaining cellular debris and ensures a clear serum sample. 
Following preparation, the samples are analyzed using nuclear magnetic resonance (NMR) spectroscopy. NMR spectroscopy measures the magnetic properties of atomic nuclei to determine the concentrations of various metabolites present in the serum. This technology allows for the simultaneous quantification of multiple metabolites from a single blood sample, including lipids, fatty acids, amino acids, and various low-molecular-weight compounds.

The spectrometer machine used for these analyses is the Bruker AVANCE III 500 #60, which is well-regarded for its precision and reliability in metabolic profiling.

![nightingale machine](029-nightingale_metabolomics/nightingale_machine.png)

Nightingale Health utilizes advanced algorithms to process the spectral data obtained from NMR, identifying and quantifying a wide range of metabolites. 
To ensure data quality and accuracy, Nightingale Health provides a comprehensive quality control (QC) report for each batch of samples. This report includes categorical QC tags for each metabolite in each sample and binary QC indications per sample, highlighting any potential issues that may need addressing.

For more detailed information on Nightingale Health‚Äôs technology and measurement protocol, you can visit their website https://nightingalehealth.com/technology and explore their [Biomarkers](https://research.nightingalehealth.com/biomarkers).

### Data availability 
<!-- for the example notebooks -->
The information is stored in 2 parquet file:
1. Results - nightingale_metabolomics.parquet - quantification of metabolites in blood sample.
2. Tags per Biomarker - tags_per_biomarker.parquet - categorical tags per metabolite per sample

As of 2024-02-01, the dataset contains 1700 participants who were analyzed.

### Summary of available data 
<!-- for the data browser -->
We sent our samples to Nightingale in two batches (with more planned):
* Batch #1 (POC, 6/6/2023) - Total entries: 1,827 / Unique participant IDs: 1,714
* Batch #2 (15/04/2024) - Total entries: 8,387 / Unique participant IDs: 7,454

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/29)


## FILE: datasets/030-vaginal_microbiome.ipynb

# Vaginal Microbiome

### Description 

The vaginal microbiome dataset characterizes the bacterial communities present in the vaginal environment via metagenomic sequencing of vaginal swab samples. This dataset enables the exploration of the diverse bacterial populations residing in the vaginal tract, their relative abundances, and potential associations with women's health conditions. Understanding the vaginal microbiome composition provides insights into conditions such as bacterial vaginosis and other vaginal health-related outcomes.

### Introduction

The vaginal microbiome represents a dynamic ecosystem that plays a crucial role in maintaining vaginal health. Unlike the gut microbiome, a healthy vaginal microbiome is often characterized by lower diversity and dominance of specific bacterial genera, particularly *Lactobacillus* species. Alterations in the vaginal bacterial community have been associated with various health conditions, including bacterial vaginosis, which affects 20-60% of women globally.

Through shotgun metagenomic sequencing of vaginal swab samples, this dataset provides comprehensive taxonomic profiling of vaginal bacterial communities. The data enables investigation of the relationship between vaginal microbiome composition and various health outcomes, reproductive health, and other phenotypic characteristics collected as part of the Human Phenotype Project.

Note: The current DNA extraction protocol is optimized for bacterial DNA and does not adequately recover fungal DNA. Therefore, fungal species (such as *Candida*) are not reliably detected in this dataset.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
To characterize the vaginal microbiome, the following steps are performed:

1. **Sample collection**: A vaginal swab sample is self-collected by each participant during their visit using a standardized swab kit.
2. **DNA extraction**: DNA is extracted from the swab sample using techniques optimized for bacterial DNA isolation.
3. **DNA sequencing**: The extracted DNA is sequenced using high-throughput sequencing technologies.
4. **Quality control and filtering**: Raw sequencing reads are processed using Trimmomatic with a minimum length setting of 50 to remove low-quality reads and sequencing artifacts.
5. **Human read removal**: Human reads are filtered using Bowtie with the CHM13v2 (T2T) human genome reference to isolate non-human (microbial) sequences.
6. **Taxonomic classification**: Non-human reads are classified using Kraken2 against the Vaginal Microbiome Genome Collection (VMGC) reference database to identify bacterial species and their abundances.

A minimum threshold of 50,000 non-human reads is required for reliable species detection and sample differentiation.

![Vaginal Microbiome Kit](030-vaginal_microbiome/vaginal_kit.png)

**Figure 1: Vaginal Microbiome Kit Components.**
The kit includes a sterile swab in a medical grade paper pouch. An empty tube for placing the sampled tip after sampling is also present in cat:50U003DS. However, this tube is not used, as the CTC coordinator provides the participant with a separate safelock barcoded tube prior to VMB sampling. To conduct the self-sample test, the participant is instructed to wash her hands with soap (or put on gloves). She should then place the provided barcoded tube on the designated stand and open the paper pouch. Then, by holding the swab in the middle of the handle, perform the self-sampling test.

### Data availability 
<!-- for the example notebooks -->

A vaginal swab sample is collected from every female HPP participant. To date, 1,622 samples have been sequenced and processed through the vaginal microbiome pipeline. Per-participant output files include:

- **Kraken2 report**: A tab-delimited file summarizing taxonomic classification results. Each row represents a taxon and includes the percentage of reads assigned, number of reads assigned directly and to the clade, taxonomic rank (Domain, Phylum, Class, Order, Family, Genus, Species), taxonomic ID, and taxon name.

- **Kraken2 output**: A per-read classification file where each row represents a single sequencing read. Columns indicate classification status (C = classified, U = unclassified), read ID, assigned taxonomic ID, read length, and k-mer mapping information showing how the read was classified across its length.
```{mermaid}
graph LR;
    A(Raw FASTQ File) --> |Trimmomatic| B(Clean FASTQ File)
    B --> |Bowtie CHM13v2| C(Non Human Reads)
    B --> |Bowtie CHM13v2| D(Human Reads)
    C --> |Kraken2 VMGC| E(Kraken2 Report)
    C --> |Kraken2 VMGC| F(Kraken2 Output)
```

### Summary of available data 
<!-- for the data browser -->

- DNA Sequencing files
    - Raw FASTQ file
    - Trimmed FASTQ file
    - Non-human FASTQ file (filtered)
- Bacterial
    - Kraken2 report (taxonomic abundance summary)
    - Kraken2 output (per-read classifications)



## FILE: datasets/032-gait.ipynb

---
output-file: 032-gait.html
title: Gait and Balance
---

### Description

This dataset includes comprehensive gait, balance, and movement measurements collected using the Newton VR Ltd. motion capture system. The testing protocol comprises seven distinct assessments conducted over approximately 7 minutes: baseline A-pose, self-selected gait speed, treadmill walking at constant speed (3 km/h), stationary walking, sit-to-stand strength test, and Romberg balance tests (eyes open and closed). Movement parameters are captured through RGB, infrared, and depth-sensing cameras positioned at multiple angles, providing detailed analysis of participants' gait patterns, balance capabilities, and functional movement.

### Introduction

Gait and balance assessments are critical indicators of overall health, functional capacity, and fall risk, particularly in middle-aged and older adults. Abnormal gait patterns can be early indicators of neurodegenerative disorders such as Parkinson's disease, dementia, and multiple sclerosis, as well as musculoskeletal and cardiovascular conditions. Gait speed has been validated as a reliable predictor of survival, hospitalization, and functional decline, often referred to as the "sixth vital sign."

The sit-to-stand test measures lower limb strength and functional endurance, reflecting overall mobility and independence in activities of daily living. The Romberg test assesses proprioception and vestibular function, providing insight into neurological health and postural control. Balance impairments are strongly associated with increased fall risk, representing a major public health concern.

The participants' gait, balance, and movement parameters are analyzed as biomarkers at Newton VR Ltd.'s Gait and Movement Laboratory. Advanced algorithms analyze multi-camera recordings to produce comprehensive movement biomarkers that can be used to track health outcomes and identify subtle changes that may precede clinical manifestations of disease.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->

The gait and balance testing is conducted by trained operators using the Newton VR Ltd. system within a dedicated movement laboratory at the Clinical Testing Center. All data is de-identified and processed according to Protection of Privacy Regulations (Data Security) 5777-2017, Israel.

#### Equipment

The Newton VR Ltd. Gait and Movement Laboratory Station includes:

- **Motion Capture System:** Four cameras (4√ó Azure Kinect by Microsoft, 4√ó ZED 2i from StereoLabs) positioned at different angles (Front, Rear, Right, Left) with RGB, IR, and depth sensing capabilities
- **Motorized Treadmill:** King Smith treadmill with self-paced function, maximum load 100 kg, controlled via remote and KS FIT mobile app
- **Workout Bench:** BODYSOLID flat bench (46 cm height) with safety handrail
- **Computer System:** Dedicated Newton Tech computer with GUI App version 003, de-identification software, and two NAS devices for backup

#### Test Protocol

The seven-assessment protocol includes:

1. **Baseline (A-pose)** ‚Äì 10 seconds: Standing still with arms at 30¬∞ angle, eyes forward
2. **Self-Selected Gait Speed** ‚Äì 1 minute: Treadmill walking at participant's comfortable pace (starting 2.5 km/h, adjusted in 0.1 km/h increments)
3. **Constant Speed Walk (3 km/h)** ‚Äì 3 minutes: Treadmill walking at fixed speed with Borg CR10 exertion rating (0-10) recorded after completion
4. **Stationary Walk** ‚Äì 1 minute: Walking in place at comfortable pace
5. **Sit-to-Stand Test** ‚Äì 30 seconds: Repeated standing/sitting with arms crossed over chest; number of repetitions counted
6. **Romberg Test (Eyes Open)** ‚Äì 30 seconds: Standing balance test with shoes removed
7. **Romberg Test (Eyes Closed)** ‚Äì 30 seconds: Standing balance test assessing proprioception and vestibular function

#### Safety and Quality Control

Participants must wear comfortable clothing and proper athletic shoes, with a maximum weight limit of 100 kg. Safety lock is clipped to clothing during treadmill exercises, and the operator maintains constant visual contact. Activities are marked incomplete and may be repeated if participants fail to maintain proper position or protocol requirements. PID barcode scanning ensures accurate participant identification and data linkage.

### Data availability 
<!-- for the example notebooks -->

Initial processing takes place on the local PC where all subject data is de-identified. The information is stored in CSV files (one per participant) containing analyzed movement parameters, with PDF reports in development. Raw video data is temporarily stored during processing and permanently deleted after analysis to protect participant privacy.

### Summary of available data 
<!-- for the data browser -->

The dataset includes comprehensive gait and movement biomarkers:

- **Temporal-spatial parameters:** Self-selected gait speed, stride length, step width, cadence, gait cycle timing
- **Balance and postural control:** Romberg test performance (eyes open/closed), center of pressure, postural sway
- **Functional strength:** Sit-to-stand repetitions (30-second count), movement quality metrics
- **Kinematic analysis:** Joint angles, limb movements, body segment trajectories, movement symmetry
- **Subjective measures:** Borg CR10 scale exertion ratings (0-10)

All data is collected at baseline and follow-up visits, enabling longitudinal tracking of gait and balance parameters over time.



## FILE: datasets/033-google_fit_apple_health.ipynb

---
output-file: 033-google_fit_apple_health.html
title: Wearables
---


### Description

Smartphone apps and wearable devices for monitoring physical activity and other health behaviors have gained popularity in recent years, offering a largely untapped source of data on health behaviors in real-world settings. This data is vast, collected at a low cost in natural environments, and often recorded automatically, making it a powerful supplement to traditional surveillance studies and controlled trials.

This dataset includes anonymized health and fitness data gathered from users of Google Fit and Apple HealthKit. It encompasses various categories such as body measurements (weight, height), physical activity (steps, exercise duration), nutrition, sleep patterns, heart rate, and cardiovascular health metrics. Apple HealthKit extends data collection to include more extensive medical and health-related information. Both platforms collect data through wearable devices and self-reported inputs, providing a comprehensive view of users' health and lifestyles.

### Introduction

**Google Fit** is a fitness tracking platform that was released in October 2014. It is an open ecosystem that currently supports Android 4.1 and higher. It reads, gathers, and stores users' data obtained via wearable gadgets and self-reporting.

**HealthKit** (Apple Health) is Apple's health data collection and visualization platform that was released in 2014 for iPhone with iOS 8+. The Health app collects and visualizes user data received from Apple Watch, smartphones, and self-reported inputs. HealthKit is a framework with an API that allows displaying the health data collected by apps and wearables that are connected to the Health app.

#### Key Differences

- **Platform compatibility:** Google Fit works with any platform, whereas Health is an iOS-only app (therefore, data from Health, specifically, is for iOS devices only).

- **Clinical use:** Google Fit APIs are meant for creating fitness apps and should not be used for creating clinical solutions. Google Fit cannot be used with medical devices or as a digital therapeutic. HealthKit is built to help develop digital therapeutics ‚Äî apps that can be used for patients' treatment.

- **Data storage:** Google Fit stores data in the cloud, whereas Health and HealthKit save it on the user's device.

### Measurement protocol
<!-- long measurment protocol for the data browser -->

When users download the HPP app under instruction during their visit to the clinical testing center (CTC), they are asked to give permission to share the wearable data from either Google Fit or Apple Health. The current Standard Operating Procedure (SOP) for mobile app use instructions during the visit to the CTC is available through the internal documentation system.

#### Data Collection Methods

- **Google Fit:** Gathers data through wearable devices and self-reporting, supporting a variety of devices and platforms, and stores user data in the cloud for synchronization across devices.

- **Apple HealthKit:** Collects data from Apple Watch sensors and self-reported inputs, exclusive to iOS devices, and saves data locally on the user's device to enhance privacy and security.

Ethical considerations such as user consent and data anonymization are maintained to protect privacy and comply with data protection regulations, ensuring the dataset is suitable for research while respecting user rights.

### Data availability
<!-- for the example notebooks -->

The data comprises three levels of processing:

1. **Raw data:** Many data frames of temporal data and tabular data from various sensors and self-reported inputs

2. **Daily summary statistics:** Data frames of computed summary features from the raw data which summarize the data at a daily level

3. **Summary statistics:** Data frames which show high-level summary features computed at the participant research stage level

Data is available from 2 sources: Apple Health and Google Fit. Each of these sources has multiple versions and features stored in separate parquet files.

### Summary of available data
<!-- for the data browser -->

The data is organized into the following categories:

- **Cardiovascular health:** Heart rate, heart rate variability, blood pressure, VO2 max
- **Vital signs:** Body temperature, oxygen saturation, respiratory rate
- **Physical activity:** Steps, distance, active energy burned, exercise duration, workouts
- **Body metabolism:** Basal metabolic rate, energy expenditure
- **Sleep & Mindfulness:** Sleep duration, sleep stages, mindful minutes
- **Nutrition:** Dietary intake, water consumption, macronutrients
- **Anthropometrics:** Weight, height, body mass index (BMI), body fat percentage

#### Data Processing Levels

**Google Fit:**
The data flow from Google Fit involves synchronization of wearable device data through the Google Fit platform, which stores the information in the cloud. Users grant permission for the HPP app to access this data, which is then processed and stored in the research database.

**Apple Health:**
The data flow from Apple Health involves local storage on the user's iOS device. The Health app aggregates data from Apple Watch and other connected devices. Users grant permission for the HPP app to access this data, which is then transmitted and stored in the research database.

The complete list of features and categories can be found in the `033_health_apps_dictionary` data dictionary.



## FILE: datasets/034-untargeted_metabolomics.ipynb

---
output-file: 034-untargeted_metabolomics.html
title: Untargeted Metabolomics
---

### Description
The HPP Untargeted Metabolomics dataset contains high-throughput serum metabolomic profiles derived from HPP participants. The profiling utilizes liquid chromatography coupled with ion mobility‚Äìmass spectrometry (LC-IM-MS) to capture a broad spectrum of circulating small molecules, including diet-derived compounds, microbial metabolites, and host-related molecules.

### Introduction
As part of the HPP goal to deeply characterize the health-disease continuum, untargeted metabolomics provides a functional readout of the interplay between genetics, environment, and lifestyle. This dataset allows for the reconstruction of complex eating patterns and the identification of diet-disease mechanisms using objective molecular markers rather than self-reported data alone

### Measurement protocol 

#### Sample preparation
Serum samples were thawed on ice with a Tecan robotic platform and aliquoted into 96-well plates in batches of 320 (80 samples/rack, 4 racks/batch). These were then stored at ‚Äì80 ¬∞C until analysis and were thawed on ice immediately prior to extraction. Protein precipitation was performed using an automated liquid handling system (epMotion 96xl, Eppendorf), by adding 400 ¬µL of cold methanol to 100 ¬µL of sample. Following mixing and centrifugation, 150 ¬µL of the supernatant was collected and dried under vacuum. Dried serum extracts were reconstituted in 50 ¬µL of methanol prior to UPLC‚ÄìMS analysis.

#### UPLC Method
Chromatographic separation was performed using an ACQUITY‚Ñ¢ Premier UPLC‚Ñ¢ system (Waters Corporation) equipped with an ACQUITY Premier BEH C18 column with VanGuard FIT guard (1.7 ¬µm, 2.1 √ó 100 mm). Reverse-phase separation was carried out using mobile phase A: 0.025% (v/v) acetic acid in 95% water / 5% acetonitrile, and mobile phase B: 0.025% (v/v) acetic acid in 95% acetonitrile / 5% water. The flow rate was set to 0.35 mL/min, and the injection volume was 2 ¬µL using partial-loop mode with needle overfill.

The gradient elution program was as follows: 0 min, 100% A; linear decrease to 25% A at 4.0 min; to 0% A at 5.3 min; held at 0% A until 8.3 min; returned to 100% A at 8.5 min and held until 11.0 min for column re-equilibration.

####  Ion Mobility‚ÄìMass Spectrometry (IM‚ÄìMS) Analysis
All analyses were performed using a Waters SELECT SERIES Cyclic IMS time-of-flight (TOF) mass spectrometer (Waters Corporation, Wilmslow, UK), equipped with an electrospray ionization (ESI) source and operated in negative ion mode. Data was acquired in high-definition MSE (HDMSE) mode over an m/z range of 50‚Äì1200, with a scan time of 0.1 s. Travelling wave ion mobility separation (TWIMS) was performed with a single pass of the cyclic device. Calibration of both the mass spectrometer and the ion mobility device was performed using the Major Mix IMS/TOF calibration solution prior to analysis. Data acquisition was conducted in V-mode using MassLynx software (Waters).

Instrument parameters were optimized to enhance detection of small and labile compounds. Source conditions were set as follows: capillary voltage, 0.8 kV; cone voltage, 10 V; cone gas flow, 50 L/h; source offset voltage, 10 V; and desolvation temperature, 400¬∞C. The body gradient, post-trap gradient, and transfer gradient voltages were maintained at 5 V, 3 V, and 4 V, respectively. A manual quadrupole (Quad) MS profile was used with set points of 60, 100 and 125 m/z, and dwell and ramp times all set to 25 %. StepWave RF voltage was set at 100 V; ion guide RF voltage, 150 V; and transfer RF voltage, 150 V. The cyclic and array traveling wave velocity was set at 375 m/s. Traveling wave ramp parameters included a start height of 10 V and an end height of 20 V, ramped at a rate of 0.5 V/ms. Inject and separate times were set at 2 and 4 ms, respectively, with TOF data collected at three pushes per bin.

####  Processing and Annotation
Raw data were processed using Progenesis QI software (version 3.0, Waters Corporation), including peak detection, alignment, and intra-batch normalization to adjust for technical variability within each analytical batch.

Metabolites were putatively identified (MSI Level 2) using Progenesis QI. The integrated MetaScope search engine matched features against the Human Metabolome Database (HMDB) using stringent criteria: a 5 ppm mass tolerance (with final annotations demonstrating <2 ppm mass accuracy), a 10 ppm product ion mass tolerance for MS/MS fragmentation, and a fragmentation score >60% (except for one Eicosapentaenoic acid metabolite). A minimum 90% isotopic pattern similarity was also mandated. For collision cross section (CCS) matching, all annotations exhibited a maximum 2.5% deviation from predicted HMDB values. Additionally, two metabolites were specifically identified with <2.5% deviation using the Metabolic Profiling CCS Library search plugin.

### Data availability 
<!-- for the example notebooks -->
* Tabular data containing feature intensities and annotations (Progenesis QI output)

Note: The dataset comprises approximately 2000 metabolite features, with roughly 10% chemically annotated at high confidence.



## FILE: datasets/043-covid.ipynb

---
output-file: 043-covid.html
title: COVID-19
---
### Description

Information about Covid is collected in a standalone Covid survey and in the Follow-up Medical Survey in the Human Phenotype Project study.

### Introduction

This Covid survey presents the participants with questions regarding their Covid-19 vaccinations and diagnosis status. It is asked in-person, in every visit to the clinical testing center. Questions asked are related to the participant's vaccination status, number of vaccine doses and boosters, were participants diagnosed with Covid-19 in the past and were they hospitalized following diagnosis. 

### Measurement protocol
<!-- long measurment protocol for the data browser -->
Participants are asked the COVID survey questions during the visit to the clinical testing center (CTC) both at baseline and on follow up visits. It is asked in person, and answers are filled into the system by study coordinators.

### Data availability
<!-- for the example notebooks -->
The information is stored in 1 parquet file: `covid.parquet`. The 'data source' column indicates which survey the information comes from either the initial Covid survey or the Follow-up Medical Survey.

### Summary of available data
<!-- for the data browser -->
The processed data is saved as a pandas DataFrame.
Each question is stored in a single column. All question answers are coded as integers, according to the question code that can be found in the Covid survey data dictionary.
Each single instance of a survey filled by a participant is saved in multiple rows (indicated with an array_index) to accommodate for multiple choice questions as single integer values.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/43)



## FILE: datasets/044-sex_specific_factors.ipynb

---
output-file: 044-sex_specific_factors.html
title: Sex-Specific Factors
---
### Description

Sex-specific factors refer to biological and physiological differences, such as reproductive health, hormonal variations, disease prevalence and aging processes that influence medical health outcomes in males and females.

### Introduction

The Human Phenotype Project conducts comprehensive data collection through online surveys, where participants voluntarily provide information on various aspects influencing their health. This includes sex-specific factors, captured through multiple surveys.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
The lifestyle surveys (ukbb and follow-up ukbb) are modeled after the UK Biobank's touch screen questionnaire. Participants receive the full version via email to complete on the Zoho platform, either before or after their baseline visit. A shorter, follow-up version of the questionnaire is then filled out by participants during subsequent visits. 

### Data availability 
<!-- for the example notebooks -->
The information is stored in 5 parquet files: `menstrual_cycle`, `initial_medical.parquet`, `follow_up_medical.parquet`, `ukbb.parquet` and `follow_up_ukbb.parquet` which indicate the different sources where information is collected from.

### Summary of available data 
<!-- for the data browser -->
The data consists of 5 data frames relfecting the survey data sources where information related to sex-specific factors was collected from.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/44)



## FILE: datasets/045-participant_relation.ipynb

---
output-file: 045-participant_relation.html
title: Participant Relations
---
### Description 

The Human Phenotype Project conducts comprehensive data collection through online surveys, where participants voluntarily provide information on various aspects influencing their health. This includes information about other participant's they are related to.

### Introduction

The Human Phenotype Project collects information about family relationships between study participants to enable genetics and family-based research. Understanding familial connections is essential for studying heritability of traits, shared environmental factors, and genetic associations. Participants who have family members also enrolled in the study can indicate these relationships, allowing researchers to analyze data from related individuals while maintaining privacy and confidentiality.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
A short online survey is used to track participants in the study who are related in some way.

### Data availability 
<!-- for the example notebooks -->
The information is stored in 1 parquet files: `participant_relation.parquet`.

### Summary of available data 
<!-- for the data browser -->
The dataset contains information about familial relationships between study participants, including:
1. Relation type: The type of familial relationship (e.g., parent, sibling, child, spouse)
2. Relative participant ID: The study ID of the related participant
3. This data enables family-based analyses and genetic studies involving related individuals within the cohort

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/45)


## FILE: datasets/049-medical_symptoms.ipynb

---
output-file: 049-medical_symptoms.html
title: Medical Symptoms
---
### Description 

Medical symptoms data captures detailed information about an individual's current health status by recording physical and mental symptoms they experience. This data includes subjective descriptions such as pain levels, fatigue, and other discomforts, along with observed signs like fever or swelling. Tracking symptoms over time helps in identifying potential health issues, understanding disease onset and progression, and supporting diagnosis. It provides valuable real-time insights into patient well-being and is crucial for personalized healthcare management and treatment planning.

### Introduction

The Human Phenotype Project study collects medical data through online surveys, where participants self-report their experiences with various medical symptoms. This method depends on individuals accurately conveying their own health experiences. Obtaining detailed and thorough information about the symptoms people experience is essential to understand their actual impact on individual health.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
In the initial phase of the study, during registration, participants are asked to provide information about any medical symptoms they have experienced in the Initial Medical Survey. Additional data is then collected in the Follow-up UKBB Survey during subsequent visits, allowing for ongoing tracking of these symptoms

An additional survey is asked to participants focusing on Irritable Bowel Syndrome (IBS) and digestive health. This digestive health survey is an adaptation of the UK Biobank online gastro-intestinal health self-assessment questionnaire. Many of the questions in the UK Biobank gut health (IBS) questionnaire were adopted from the World Gastroenterology Association questionnaire (2009). Questions asked are related to the participant‚Äôs bowel habits, characterization of abdominal pain patterns, accompanying symptoms, and history of IBS in the family.

### Data availability 
<!-- for the example notebooks -->
The information is stored in 3 parquest files: `initial_medical.parquet`, `follow_up_ukbb.parquet` and `digestve_health.parquet` 

### Summary of available data 
<!-- for the data browser -->
1. Initial Medical Survey: A DataFrame containing tabular features representing responses related to medical symptoms from the initial medical survey.
2. Lifestyle Survey: A DataFrame containing tabular features representing responses related to medical symptoms, from the lifestyle survey.
3. Digestive Health: A DataFrame containing tabular features focused on reported medical symptoms specifically related to digestive health, such as abdominal pain, bloating, and bowel habits.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/49)



## FILE: datasets/050-medical_procedures.ipynb

---
output-file: 050-medical_procedures.html
title: Medical Procedures
---
### Description

The medical procedures dataset captures comprehensive information about surgical interventions, diagnostic tests, and medical procedures that participants have undergone throughout their lives. This includes the type of procedure performed and the year it occurred, providing a detailed medical intervention history for each participant.

### Introduction

The Human Phenotype Project study gathers medical data through online surveys where participants self-report their use of medical procedures. This approach relies on individuals to communicate their experiences with medical interventions. Accurate and comprehensive information about the utilization of these procedures is crucial for grasping their actual effects on personal health.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
During the registration phase of the study, participants are required to provide details about their medical procedures in the Initial Medical Survey. Further data is then gathered in the Follow-up Medical Survey when participants return for subsequent visits.

### Data availability 
<!-- for the example notebooks -->
The information is stored in 2 parquets file: `initial_medical.parquet`, `follow_up_medical.parquet`

### Summary of available data 
<!-- for the data browser -->
The dataset includes comprehensive information about medical procedures categorized into several groups. The following are examples of the types of procedures tracked (many additional procedures are also recorded):

**Surgical Procedures (examples):**

- Appendectomy, cholecystectomy, tonsillectomy, adenoidectomy

- Thyroidectomy (total or partial)

- Hysterectomy, oophorectomy, myomectomy, conization of cervix

- Prostatectomy, varicocele or hydrocele repair, nephrectomy

- FESS (Functional Endoscopic Sinus Surgery)

- Cataract surgery

- Cesarean section

- Endometriosis surgery

- Trauma-related surgery, orthopedic surgery

- Splenectomy

- BCC or SCC resection

- Meningioma resection

- Ablation of atrial fibrillation or flutter

- Plastic surgery

**Diagnostic and Therapeutic Procedures:**

- Resting and stress echocardiography

- Ergometric stress testing

- Myocardial perfusion imaging

- Cardiac catheterization

- Carotid ultrasound

- Cardiac CT and MRI

- Brain imaging (CT or MRI)

- Pulmonary function tests

- Mole biopsy

**Other Medical Interventions:**

- Fertility treatments

- Triple antibiotic treatment

- Hospitalization records (frequency and timing)

Each procedure record includes the year of occurrence, allowing for temporal analysis of medical interventions throughout a participant's life.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/50)


## FILE: datasets/051-children.ipynb

---
output-file: 051-children.html
title: Children
---
### Description 

The Children Dataset is a curated collection of self-reported information from participants concerning their children and pregnancy experiences. It includes key variables such as:

* Number of Children: The total count of biological children reported by each participant.
* Birth Weights: Recorded birth weights of participants' children, offering insights into neonatal health and potential risk factors.
* Pregnancy Durations: Length of each pregnancy in weeks, indicating whether births were full-term or preterm

### Introduction

The Human Phenotype Project collects comprehensive data about participants' children and pregnancy experiences, as these factors can provide important insights into maternal and paternal health, genetic influences, and intergenerational health patterns. Birth weight and pregnancy duration are key indicators of fetal development and maternal health during pregnancy, and can be associated with long-term health outcomes for both parents and children. This information also enables research into the heritability of traits and conditions, as well as the impact of parental phenotypes on offspring health. By collecting data on number of pregnancies, genetic testing before pregnancy, and detailed birth outcomes for multiple children, researchers can investigate patterns across families and explore how parental characteristics and environmental factors influence reproductive outcomes.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
Data for the Children Dataset were collected during the registration phase of the Human Phenotype Project through the Initial Medical Survey. Participants completed an online questionnaire designed to capture accurate and comprehensive information 

### Data availability 
<!-- for the example notebooks -->
The information is stored in 1 parquets file: `children.parquet`

### Summary of available data 
<!-- for the data browser -->
The dataset includes detailed information about participants' reproductive history and their children:

**Pregnancy History:**
- Total number of pregnancies
- Number of biological children
- History of genetic testing before pregnancy

**Birth Outcomes (for up to 9 children):**
- Birth week (gestational age at delivery)
- Birth weight in kilograms
- Collection date and timezone

This data enables research into:
1. Associations between parental phenotypes and birth outcomes
2. Patterns of pregnancy duration and birth weight across multiple children within families
3. Intergenerational health relationships
4. Reproductive health patterns in the study population

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/51)



## FILE: datasets/052-family_history.ipynb

---
output-file: 052-family_history.html
title: Family History
---
### Description 

Family history information in medical research involves collecting data on genetic and hereditary conditions passed down through generations. This includes predispositions to diseases such as cancer, cardiovascular conditions, diabetes, and mental health disorders, helping identify potential health risks based on familial patterns.

### Introduction

The Human Phenotype Project conducts comprehensive data collection through online surveys, where participants voluntarily provide information on various aspects influencing their health. This includes information about a participant's family history, captured through two lifestyle surveys and the Initial Medical Survey.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
These lifestyle surveys are modeled after the UK Biobank's touch screen questionnaire. Participants receive the full version via email to complete on the Zoho platform, either before or after their baseline visit. A shorter, follow-up version of the questionnaire is then filled out by participants during subsequent visits. 

### Data availability 
<!-- for the example notebooks -->
The information is stored in 2 parquet files:  `initial_medical.parquet` and `ukbb.parquet`. The ukbb.parquet contains questions asked in our lifestyle surveys at the baseline and follow up stages.

### Summary of available data 
<!-- for the data browser -->
1. Initial Medical Survey: A DataFrame containing tabular features representing responses related to family medical history from the initial medical survey.
2. Lifestyle Survey: A DataFrame containing tabular features representing responses related to family medical history from the lifestyle survey.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/52)



## FILE: datasets/053-sociodemographics.ipynb

---
output-file: 053-sociodemographics.html
title: Sociodemographics
---
### Description

Sociodemographic data encompasses social, economic, and demographic characteristics of study participants that influence health outcomes and provide important context for interpreting health data. This includes information about ancestry and migration history, education, employment, household composition, living conditions, and socioeconomic status. These factors are essential for understanding health disparities, environmental exposures, and social determinants of health.

### Introduction

The Human Phenotype Project conducts comprehensive data collection through online surveys, where participants voluntarily provide information on various aspects influencing their health. This includes sociodemographic data, captured through two lifestyle surveys (Inital UKBB and Follow-up UKBB survey) and the Initial Medical Survey.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
These lifestyle surveys are modeled after the UK Biobank's touch screen questionnaire. Participants receive the full version via email to complete on an online platform, either before or after their baseline visit. A shorter, follow-up version of the questionnaire is then filled out by participants during subsequent visits. 

### Data availability 
<!-- for the example notebooks -->
The information is stored in 2 parquet files: `initial_medical.parquet`  and `ukbb.parquet` which contain the different data sources respectively the Initial Medical Survey and the  two lifestyle surveys (Inital UKBB and Follow-up UKBB survey).

### Summary of available data 
<!-- for the data browser -->
The sociodemographic dataset includes comprehensive information organized into several categories:

**Ancestry and Migration:**
- Participant's country of birth and year of immigration (aliya)
- Parents' countries of birth
- Grandparents' countries of birth (both maternal and paternal sides)

**Education and Qualifications:**
- Highest level of education attained
- Professional qualifications
- Age at completion of full-time education

**Employment:**
- Current employment status
- Duration in main current job (years and months)
- Length of working day
- Job characteristics (walking/standing, manual labor, shift work, night shifts)
- Commuting patterns (frequency, transport type, distance, duration)
- Remote work frequency

**Household and Living Conditions:**
- Type of accommodation
- Heating and air conditioning availability
- Length of residence at current address
- Household size and relationships between household members
- Number of vehicles in household
- Current and past pet ownership (type of pets)
- Residence area type (urban/rural)
- Assisted living status

**Socioeconomic Status:**
- Average total household income after tax
- Extra domestic job hours

**Family Connections:**
- Family members participating in the study (participant IDs and relationship degrees)
- Household members participating in the study

**Military Service (for Israeli population):**
- Past military service
- Position and duration of service

This comprehensive sociodemographic data enables researchers to examine how social and economic factors interact with health outcomes and to account for these variables in analyses.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/53)



## FILE: datasets/055-lifestyle_and_environment.ipynb

---
output-file: 055-lifestyle_and_environment.html
title: Lifestyle and Environment
---
### Description

Lifestyle and environmental factors encompass a wide range of influences on an individual's health and well-being. These factors include behaviors such as physical activity patterns, sleep habits, smoking and alcohol consumption, dietary choices, sun exposure, and screen time, as well as environmental exposures like living conditions and commuting patterns. Together, they play a crucial role in determining overall health outcomes, impacting both the prevention and progression of diseases. Understanding these modifiable factors is essential for identifying opportunities for health interventions and for studying how daily behaviors and environmental contexts contribute to long-term health trajectories.

### Introduction

The Human Phenotype Project conducts comprehensive data collection through online surveys, where participants voluntarily provide information on various aspects influencing their health. This includes lifestyle and enviroment data, captured through two lifestyle surveys.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
These lifestyle surveys are modeled after the UK Biobank's touch screen questionnaire. Participants receive the full version via email to complete on the Zoho platform, either before or after their baseline visit. A shorter, follow-up version of the questionnaire is then filled out by participants during subsequent visits. 

### Data availability 
<!-- for the example notebooks -->
The information is stored in 1 parquet file: `lifestyle_and_environment.parquet`

### Summary of available data 
<!-- for the data browser -->
The lifestyle and environment dataset captures comprehensive information across multiple domains:

**Physical Activity:**
- Walking frequency, duration, and usual pace
- Moderate and vigorous physical activity patterns (frequency and duration)
- Specific activities including stair climbing, walking for pleasure, strenuous sports, and other exercises
- Categorization by intensity levels (mild, moderate, high exercise)
- Transportation modes used excluding work commute

**Sleep and Circadian Patterns:**
- Sleep duration and quality
- Morning/evening chronotype preferences
- Getting up patterns in the morning
- Daytime napping and dozing habits
- Sleeplessness and insomnia indicators
- Snoring frequency

**Tobacco Use:**
- Current and past smoking status
- Age started and stopped smoking
- Type of tobacco used (cigarettes, cigars, pipes)
- Quantity smoked (daily cigarette consumption)
- Smoking cessation attempts and success
- Time from waking to first cigarette
- Changes in smoking patterns over time
- Exposure to secondhand smoke at home and outside home
- Household smoking environment

**Alcohol Consumption:**
- Drinking frequency and patterns
- Detailed intake of different alcohol types (red wine, white wine, beer, cider, spirits, fortified wine)
- Alcohol consumption with meals
- Changes in drinking patterns over time
- Former drinker status and reasons for stopping

**Dietary Habits:**
- Intake frequency of vegetables (cooked and raw), fruits (fresh and dried)
- Fish consumption (oily and non-oily)
- Meat intake (processed, poultry, beef, lamb, pork)
- Vegetarian status and age when stopped eating meat
- Dairy and cheese consumption patterns
- Bread, cereal, and spread types and intake
- Hot beverage consumption (tea, coffee) and temperature preferences
- Water intake
- Salt added to food
- Dietary restrictions (eggs, dairy, wheat, sugar)
- Major dietary changes and dietary variation patterns
- Kosher dietary practices
- Fat types used in cooking

**Screen Time and Technology Use:**
- Television watching duration
- Computer use time
- Mobile phone usage patterns and duration
- Usual side of head for phone use
- Driving time and driving behaviors (speed patterns)

**Environmental and Sun Exposure:**
- Time spent outdoors (summer and winter)
- Skin characteristics (color, ease of tanning)
- Childhood sunburn history
- Natural hair color

**Household and Living Environment:**
- Residence type and heating/cooling systems
- Pet ownership (current and past)

This comprehensive assessment of lifestyle and environmental factors enables research into how daily behaviors, habits, and environmental contexts influence health outcomes and disease risk.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/55)



## FILE: datasets/057-psychological_and_social_health.ipynb

---
output-file: 057-psychological_and_social_health.html
title: Psychological and Social Health
---
### Description 

Psychological and social health data captures mental well-being, emotional states, social connections, and life satisfaction across multiple domains. This includes measures of mood, anxiety, depression, social support networks, and satisfaction with various life aspects. Understanding psychological and social health is crucial as these factors significantly influence physical health outcomes, disease progression, and overall quality of life.

### Introduction

The Human Phenotype Project conducts comprehensive data collection through online surveys, where participants voluntarily provide information on various aspects influencing their health. This includes information about psychological and social health factors, captured through two lifestyle surveys.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
These lifestyle surveys are modeled after the UK Biobank's touch screen questionnaire. Participants receive the full version via email to complete on the Zoho platform, either before or after their baseline visit. A shorter, follow-up version of the questionnaire is then filled out by participants during subsequent visits. 

### Data availability 
<!-- for the example notebooks -->
The information is stored in 1 parquet file: `psychological_and_social_health`

### Summary of available data 
<!-- for the data browser -->
The dataset includes comprehensive psychological and social health measures across several domains:

**Social Connections:**
- Frequency of friend and family visits
- Participation in leisure and social activities
- Loneliness and isolation feelings
- Ability to confide in others

**Mood and Emotional States:**
- Mood swings
- Miserableness and fed-up feelings
- Irritability
- Happiness levels
- Sensitivity and hurt feelings
- Nervous feelings

**Anxiety and Worry:**
- Worrier/anxious feelings
- Tense or 'highly strung' feelings
- Worry duration after embarrassment
- Suffering from 'nerves'
- Guilt feelings

**Depression Symptoms:**
- Frequency of depressed mood in last 2 weeks
- Frequency of unenthusiasm/disinterest in last 2 weeks
- Ever depressed for a whole week
- Longest period of depression
- Number of depression episodes
- Ever unenthusiastic/disinterested for a whole week
- Longest period of unenthusiasm/disinterest
- Number of unenthusiastic/disinterested episodes

**Manic/Hypomanic Symptoms:**
- Ever manic/hyper for 2 days
- Ever highly irritable/argumentative for 2 days
- Manic/hyper symptoms
- Length of longest manic/irritable episode
- Severity of manic/irritable episodes

**Mental Health Care:**
- Seen doctor (GP) for nerves, anxiety, tension or depression
- Seen a psychiatrist for nerves, anxiety, tension or depression

**Life Satisfaction:**
- Work/job satisfaction
- Health satisfaction
- Family relationship satisfaction
- Friendships satisfaction
- Financial situation satisfaction

**Personality and Behavioral Traits:**
- Risk-taking behavior
- Frequency of tenseness/restlessness in last 2 weeks
- Frequency of tiredness/lethargy in last 2 weeks

**Life Events:**
- Illness, injury, bereavement, stress

This comprehensive assessment enables research into the relationships between psychological well-being, social factors, and physical health outcomes.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/57)



## FILE: datasets/058-health_and_medical_history.ipynb

---
output-file: 058-health_and_medical_history.html
title: Health and Medical History
---
### Description 

Health and medical history data provides comprehensive insights into an individual's past and present medical conditions, treatments, surgeries, and overall health status. This data includes personal health details such as chronic illnesses, medications, hospitalizations, and surgical procedures, which help in assessing risk factors and understanding disease progression over time.

### Introduction

The Human Phenotype Project conducts comprehensive data collection through online surveys, where participants voluntarily provide information on various aspects influencing their health. This includes information about a participant's health and medical history, captured through two lifestyle surveys.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
These lifestyle surveys are modeled after the UK Biobank's touch screen questionnaire. Participants receive the full version via email to complete on the Zoho platform, either before or after their baseline visit. A shorter, follow-up version of the questionnaire is then filled out by participants during subsequent visits. 

### Data availability 
<!-- for the example notebooks -->
The information is stored in 2 parquet files: `ukbb.parquet` and `initial_medical.parquet`

### Summary of available data 
<!-- for the data browser -->
1. Initial Medical Survey: A DataFrame containing tabular features representing responses related to personal health and medical history from the initial medical survey.
2. Lifestyle Survey: A DataFrame containing tabular features representing responses related to health behaviors and medical history from the lifestyle survey.

### Relevant links

* [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/58)



## FILE: datasets/070-oral_microbiome.ipynb

---
output-file: 070-oral_microbiome.html
title: Oral Microbiome
---

### Description 

The collection of buccal swabs for human genetic sequencing presents an advantageous opportunity to simultaneously explore the oral microbiome using the non-human DNA sequences found. This metagenomic analysis provides insight into the diverse microbial community within the buccal mucosa. The obtained data not only enriches our genetic understanding but also broadens our knowledge on the microorganisms residing in the oral cavity, their interactions, and potential implications for oral and systemic health. This dual analysis underscores the utility of buccal swabs as a resourceful means for both genetic and microbial investigations.


### Introduction

The primary intent behind collecting buccal swabs was to explore human genetics. Concurrently, it yielded metagenomic data, unveiling the microbial community within the oral cavity.

This data illuminates the diversity and interactions of microorganisms, specifically in the buccal mucosa. Delving into the oral microbiome presents an opportunity to understand its linkage to health conditions. For instance, an imbalanced oral microbiome can lead to periodontal disease, associated with an increased risk of cardiovascular diseases. Moreover, alterations in the oral microbiome have been observed in oral cancers, hinting at its potential role in their onset and progression‚Äã [The oral microbiome: diversity, biogeography and human health](https://www.nature.com/articles/s41579-023-00963-6)‚Äã. 

Through this data, the exploration into possible connections between oral microbial composition and various health conditions is facilitated, marking a step towards understanding the broader health implications.

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
This dataset is a derivative of the human genome dataset (that has been collected via buccal swabs) - ergo the measurement protocol can be found at the Human genetics dataset.


### Data availability 
<!-- for the example notebooks -->
The information is stored in multiple parquet files:

- `oral_microbiome.parquet`: Sequencing and QC statistics.
- `metaphlan_*`: 8 tables with MetaPhlAn 4 vJan21 relative abundances, separated by taxonomic levels.
- `humann_aggregated_*`: arrow files of either gene level abundances or pathway level abundances+coverage from HumanN 3.6 given MetaPhlAn 4 vJan21 outputs

```{mermaid}
graph LR;
    A(Human Aligned<br>BAM) --> |Filter and convert| B(Non Human Reads<br>FASTQ)
    B --> |Trimmomatic| C(Clean FASTQ File)
    C --> |MetaPhlAn| D(MetaPhlAn 4 /<br>vJan21 Abundances<br>Tabular)
    C --> |HumanN| E(HumanN 3.6 genes abundance)
    C --> |HumanN| F(HumanN 3.6 Pathways abundance)
    C --> |HumanN| G(HumanN 3.6 Pathways coverage)
    C --> |FastQC| H(Reads QC report - after)
    B ---> |FastQC| I(Reads QC report - before)
```

### Summary of available data 
<!-- for the data browser -->
- DNA Sequencing files
    - Non human FASTQ file
    - Trimmed Non human FASTQ file
- QC
    - FASTQC files
- Bacterial
    - HumanN (3.6) output
    - MetaPhlAn4 (vJan21) output

### Relevant links

- [Pheno Data Browser](https://pheno-demo-app.vercel.app/folder/70)



## FILE: datasets/100-curated_phenotypes.ipynb

# Curated Phenotypes

### Description 

Curated phenotypes are algorithmically-defined health conditions and traits derived from the rich, multi-modal data collected in the Human Phenotype Project. These phenotypes are created by integrating multiple data sources including clinical measurements, laboratory tests, imaging data, questionnaires, medical history, and other assessments to provide robust definitions of diseases and health states. Each curated phenotype follows evidence-based criteria and clinical guidelines to ensure accurate classification of participants' health status.

### Introduction

The Human Phenotype Project includes curated phenotypes for major health conditions across multiple domains:

#### Metabolic Conditions

- **Abdominal Adiposity:** Increased abdominal obesity is a hallmark of fat or adiposity-related metabolic dysfunction.

- **BMI and Obesity:** Overweight and obesity are associated with morbidity and mortality can lead to significant social and psychological challenges for individuals, including stigma, discrimination, and increased risk of mental health issues such as depression and low self-esteem.

- **Diabetes:** Type 2 Diabetes (T2D) is a health condition characterized by blood sugar levels that are higher than normal, whereas in prediabetes blood sugar levels are not high enough yet to be classified as T2D.

- **Hyperlipidemia:** Lipoproteins are complexes of lipids and proteins that are essential for transport of cholesterol, triglycerides (TGs), and fat-soluble vitamins in the blood. Disorders of lipoprotein metabolism include primary and secondary conditions that substantially increase or decrease specific circulating lipids (e.g., cholesterol or TGs) or lipoproteins (e.g., low density or high density lipoproteins).

- **MAFLD:** Metabolic (dysfunction) Associated Fatty Liver Disease / Non-alcoholic Fatty Liver Disease (NAFLD) was described as an excessive fat infiltration of the liver in the absence of significant alcohol consumption or other causes of liver disease.

#### Cardiovascular Conditions

- **Hypertension:** Hypertension is the most common reason for office visits and for the use of chronic prescription medications. Roughly one-half of hypertensive individuals do not have adequate blood pressure control.

- **Ischemic Heart Disease:** Ischemic heart disease (IHD), also referred to as coronary heart disease (CHD), is the term associated with an inadequate supply of blood to the myocardium due to obstruction of the epicardial coronary arteries, usually from atherosclerosis.

#### Kidney Disease

- **CKD:** Chronic Kidney Disease includes a range of pathophysiologic processes associated with abnormal kidney function and a progressive decline in glomerular filtration rate (GFR).

#### Neurological and Psychiatric Conditions

- **ADHD:** Attention deficit hyperactivity disorder (ADHD), one of the most common neuropsychiatric disorders of childhood and adolescence, often persists into adulthood.

- **Anxiety:** People with anxiety disorders frequently have intense, excessive and persistent worry and fear about everyday situations.

- **Depression:** Depression is a constellation of symptoms and signs that may include depressed mood.

- **Migraine:** Migraine is an episodic disorder that manifests in a severe headache generally associated with nausea and/or light and sound sensitivity.

#### Sleep Disorders

- **OSA:** Obstructive Sleep Apnea is a disorder that is characterized by obstructive apneas, hypopneas, and/or respiratory effort-related arousals caused by repetitive collapse of the upper airway during sleep.

- **Sleep Quality:** Sleep is considered a restorative process that allows for energy renewal and also for cellular. Low sleep quality may lead to accelerated aging by triggering DNA damage and chronic inflammation to influence the compensatory/resiliency systems of the human body.

#### Musculoskeletal Conditions

- **Sarcopenia:** Sarcopenia is a syndrome characterized by the loss of muscle mass, strength, and performance.

- **Osteoporosis:** Osteoporosis is characterized by low bone mass, microarchitectural disruption, and skeletal fragility, resulting in decreased bone strength and an increased risk of fracture.

#### Women's Health

- **Endometriosis:** Endometriosis is a gynecological disease defined as endometrial glands and stroma that occur outside the uterine cavity.

- **Menopause:** Natural menopause is defined as the permanent cessation of menstrual periods, determined retrospectively after a woman has experienced 12 months of amenorrhea without any other obvious pathologic or physiologic cause.

#### Cancer

- **NMSC:** Nonmelanoma Skin Cancers are a group of cancers that arise from the skin but do not include melanoma. The most common types of nonmelanoma skin cancer are basal cell carcinoma (BCC) and squamous cell carcinoma (SCC).

### Measurement protocol 
<!-- long measurment protocol for the data browser -->
Curated phenotypes are not directly measured but are derived through algorithmic integration of multiple data sources collected in the Human Phenotype Project. The curation process involves:

1. **Data Integration:** Combining relevant measurements from various modalities (e.g., blood tests, imaging, questionnaires, clinical assessments)

2. **Clinical Criteria Application:** Applying established clinical diagnostic criteria and guidelines for each condition

3. **Algorithm Development:** Creating data-driven algorithms that identify individuals meeting criteria for specific phenotypes

4. **Validation:** Validating phenotype definitions against known diagnoses and clinical assessments

5. **Quality Control:** Ensuring consistency and accuracy of phenotype assignments across the cohort

Each phenotype uses specific combinations of available data types relevant to that condition. For example:

- Diabetes phenotypes use blood glucose, HbA1c, CGM data, medications, and self-reported diagnoses
- Cardiovascular phenotypes integrate blood pressure, ECG, imaging, blood tests, and medical history
- Liver phenotypes combine liver ultrasound, blood tests, and clinical assessments

### Data availability 
<!-- for the example notebooks -->
Curated phenotypes are provided as derived datasets that indicate presence, absence, or severity of specific conditions for each participant. The data is typically stored in parquet files with phenotype assignments linked to participant IDs and research stages, enabling longitudinal tracking of health status changes over time.

### Summary of available data 
<!-- for the data browser -->
The curated phenotypes dataset includes algorithmically-defined classifications for major health conditions and traits:

**Metabolic Conditions:**

- **BMI and Obesity:** Body mass index categories and obesity status based on anthropometric measurements

- **Diabetes:** Type 2 diabetes and prediabetes status derived from glucose levels, HbA1c, CGM data, and medications

- **Hyperlipidemia:** Lipid disorders identified through blood lipid panels and lipoprotein profiles

- **MAFLD:** Metabolic-associated fatty liver disease based on liver ultrasound and metabolic markers

- **Abdominal Adiposity:** Increased abdominal fat based on body composition measurements

**Cardiovascular Conditions:**

- **Hypertension:** High blood pressure classifications from multiple blood pressure readings

- **Ischemic Heart Disease:** Coronary heart disease identified through clinical history, tests, and procedures

**Kidney Disease:**

- **CKD:** Chronic kidney disease stages based on estimated glomerular filtration rate and kidney function tests

**Neurological and Psychiatric Conditions:**

- **ADHD:** Attention deficit hyperactivity disorder based on standardized questionnaires

- **Anxiety:** Anxiety disorders derived from psychological health assessments

- **Depression:** Depressive symptoms and disorders from mental health questionnaires

- **Migraine:** Migraine headache patterns from symptom reports

**Sleep Disorders:**

- **OSA:** Obstructive sleep apnea based on home sleep study results and respiratory indices

- **Sleep Quality:** Sleep quality metrics from sleep monitoring and questionnaires

**Musculoskeletal Conditions:**

- **Sarcopenia:** Age-related muscle loss identified through body composition and grip strength

- **Osteoporosis:** Low bone density from DXA scans and fracture risk assessment

**Women's Health:**

- **Endometriosis:** Endometriosis diagnosis from medical history and procedures

- **Menopause:** Menopausal status and transition based on reproductive history and hormonal changes

**Cancer:**

- **NMSC:** Nonmelanoma skin cancers (basal cell and squamous cell carcinoma) from medical history

Each phenotype provides a binary classification (presence/absence), and where applicable, severity grades or continuous measures. The phenotypes are updated as new data becomes available during longitudinal follow-up.


